<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>ESéƒ¨ç½² | é‚¹æ–Œçš„åšå®¢</title>
  <meta name="keywords" content=" Elasticsearch , æœç´¢ ">
  <meta name="description" content="ESéƒ¨ç½² | é‚¹æ–Œçš„åšå®¢">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="Dockeréƒ¨ç½²FastDFSå‰è¨€ï¼šä¸€ã€Docker é•œåƒåœ°å€ç™¾åº¦ç½‘ç›˜ä¸­ äºŒã€é•œåƒå¯¼å…¥docker load &lt; FastDFS.jar ä¸‰ã€ä½¿ç”¨å®¹å™¨è¿è¡Œé•œåƒå¼€å¯tracker1docker run -dit --name tracker --network&#x3D;host -v &#x2F;var&#x2F;fdfs&#x2F;tracker:&#x2F;var&#x2F;fdfs d">
<meta property="og:type" content="article">
<meta property="og:title" content="Dockeréƒ¨ç½²FastDFS">
<meta property="og:url" content="https://bufan-zb.github.io/blog/2019/08/12/Docker%E9%83%A8%E7%BD%B2%20FastDFS/index.html">
<meta property="og:site_name" content="é‚¹æ–Œçš„åšå®¢">
<meta property="og:description" content="Dockeréƒ¨ç½²FastDFSå‰è¨€ï¼šä¸€ã€Docker é•œåƒåœ°å€ç™¾åº¦ç½‘ç›˜ä¸­ äºŒã€é•œåƒå¯¼å…¥docker load &lt; FastDFS.jar ä¸‰ã€ä½¿ç”¨å®¹å™¨è¿è¡Œé•œåƒå¼€å¯tracker1docker run -dit --name tracker --network&#x3D;host -v &#x2F;var&#x2F;fdfs&#x2F;tracker:&#x2F;var&#x2F;fdfs d">
<meta property="og:locale">
<meta property="article:published_time" content="2019-08-12T10:58:00.000Z">
<meta property="article:modified_time" content="2020-07-15T06:24:02.870Z">
<meta property="article:author" content="é‚¹æ–Œ">
<meta property="article:tag" content="Docker">
<meta property="article:tag" content="FastDFS">
<meta name="twitter:card" content="summary">


<link rel="icon" href="/img/avatar.jpg">

<link href="/blog/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/blog/css/hl_theme/atom-light.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/blog/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js" ></script>

<script src="/blog/js/iconfont.js?v=1.1.0" ></script>

<meta name="generator" content="Hexo 5.3.0"></head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="/blog">
  <input id="theme_shortcut" value="true" />
  <input id="theme_highlight_on" value="true" />
  <input id="theme_code_copy" value="true" />
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/blog/"
   class="avatar_target">
    <img class="avatar"
         src="/blog/img/avatar.jpg"/>
</a>
<div class="author">
    <span>é‚¹æ–Œ</span>
</div>

<div class="icon">
    
        
            <a title="github"
               href="https://github.com/bufan-zb"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-github"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="email"
               href="mailto:zoubinbf@163.com"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-email"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="qq"
               href="http://wpa.qq.com/msgrd?v=3&uin=592916444&site=qq&menu=yes"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-qq"></use>
                    </svg>
                
            </a>
        
    
</div>




<ul>
    <li>
        <div class="all active" data-rel="All">All
            
                <small>(64)</small>
            
        </div>
    </li>
    
        
            
                <li>
                    <div data-rel="å¤§æ•°æ®">
                        
                        å¤§æ•°æ®
                        <small>(10)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="æ’åºç®—æ³•">
                        
                        æ’åºç®—æ³•
                        <small>(10)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="äººå·¥æ™ºèƒ½">
                        <i class="fold iconfont icon-right"></i>
                        
                        äººå·¥æ™ºèƒ½
                        <small>(11)</small>
                        
                    </div>
                    
                        <ul class="sub hide">
                            
                                <li>
                                    <div data-rel="äººå·¥æ™ºèƒ½<--->æ·±åº¦å­¦ä¹ ">
                                        
                                        æ·±åº¦å­¦ä¹ 
                                        
                                            <small>(4
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                        </ul>
                    
                </li>
            
        
    
        
            
        
    
        
            
                <li>
                    <div data-rel="æ•°æ®ç»“æ„">
                        
                        æ•°æ®ç»“æ„
                        <small>(4)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Docker">
                        
                        Docker
                        <small>(5)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Dockerfile">
                        
                        Dockerfile
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Linux">
                        
                        Linux
                        <small>(15)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="python">
                        
                        python
                        <small>(2)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Web">
                        
                        Web
                        <small>(5)</small>
                        
                    </div>
                    
                </li>
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
        
            
            
            
    </div>
    <div>
        
        
    </div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="64">
<input type="hidden" id="yelog_site_word_count" value="58.4k">
<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        Links
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="http://yelog.org/">å¶è½é˜</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="æœç´¢ å¿«æ·é”® i"></i>
            <div class="right-title">All</div>
            <i class="iconfont icon-file-tree" data-title="åˆ‡æ¢åˆ°å¤§çº²è§†å›¾ å¿«æ·é”® w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="è¿”å›"></i>
            <input id="local-search-input" />
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="å¤§å°å†™æ•æ„Ÿ"></i>
            <i class="iconfont icon-tag" data-title="æ ‡ç­¾"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">å¤§çº²</div>
            <i class="iconfont icon-list" data-title="åˆ‡æ¢åˆ°æ–‡ç« åˆ—è¡¨"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>æµ‹è¯•</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>å¤§æ•°æ®</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>èŠå¤©</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>æ’åºç®—æ³•</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>æ•°æ®åˆ†æ</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>æ•°å­¦</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>æœç´¢</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>æœç´¢å¼•æ“</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ç®—æ³•</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>æ¢¯åº¦ä¸‹é™</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>æ¨èç³»ç»Ÿ</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ç½‘å¡é…ç½®</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>æœªå®Œæˆ</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>è™šæ‹ŸåŒ–</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>è™šæ‹Ÿç¯å¢ƒ</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>cenos</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Docker</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Elasticsearch</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>FastDFS</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>flask</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Gitblit</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Hadoop</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Kafka</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Linux</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Linuxå¸¸ç”¨å‘½ä»¤</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>MySQL</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Numpy</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Pandas</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>python</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Python</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>pytorch</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Pytorch</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>TensorFlow</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>web</a>
            </li>
        
    </div>

</div>

    
    <div id="local-search-result">

    </div>
    
    <nav id="title-list-nav">
        
        <a  class="All Docker "
           href="/blog/2019/08/12/Docker%E9%83%A8%E7%BD%B2%20FastDFS/"
           data-tag="Docker,FastDFS"
           data-author="" >
            <span class="post-title" title="Dockeréƒ¨ç½²FastDFS">Dockeréƒ¨ç½²FastDFS</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All Docker "
           href="/blog/2019/08/12/Docker%E9%83%A8%E7%BD%B2Elasticsearch/"
           data-tag="Docker,Elasticsearch"
           data-author="" >
            <span class="post-title" title="Dockeréƒ¨ç½²Elasticsearch">Dockeréƒ¨ç½²Elasticsearch</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All Docker "
           href="/blog/2019/08/12/Docker%E9%83%A8%E7%BD%B2MySQL/"
           data-tag="Docker,MySQL"
           data-author="" >
            <span class="post-title" title="Dockeréƒ¨ç½²MySQL">Dockeréƒ¨ç½²MySQL</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All äººå·¥æ™ºèƒ½ æ·±åº¦å­¦ä¹  "
           href="/blog/2019/08/12/FM/"
           data-tag="ç®—æ³•"
           data-author="" >
            <span class="post-title" title="FM">FM</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All Docker "
           href="/blog/2019/08/12/Dockre%E9%83%A8%E7%BD%B2Gitblit/"
           data-tag="Docker,Gitblit"
           data-author="" >
            <span class="post-title" title="Dockeréƒ¨ç½²Gitblit">Dockeréƒ¨ç½²Gitblit</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All äººå·¥æ™ºèƒ½ æ·±åº¦å­¦ä¹  "
           href="/blog/2019/08/12/FTRL/"
           data-tag="ç®—æ³•"
           data-author="" >
            <span class="post-title" title="FTRL">FTRL</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All Dockerfile "
           href="/blog/2019/08/12/GPU%E9%95%9C%E5%83%8F%E7%94%9F%E6%88%90/"
           data-tag="Pytorch,TensorFlow"
           data-author="" >
            <span class="post-title" title="GPUé•œåƒç”Ÿæˆ">GPUé•œåƒç”Ÿæˆ</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All å¤§æ•°æ® "
           href="/blog/2019/08/12/HBase/"
           data-tag="å¤§æ•°æ®,æ¨èç³»ç»Ÿ,Hadoop"
           data-author="" >
            <span class="post-title" title="HBase">HBase</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All å¤§æ•°æ® "
           href="/blog/2019/08/12/HDFS/"
           data-tag="å¤§æ•°æ®,æ¨èç³»ç»Ÿ,Hadoop"
           data-author="" >
            <span class="post-title" title="HDFS">HDFS</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All å¤§æ•°æ® "
           href="/blog/2019/08/12/Hadoop/"
           data-tag="å¤§æ•°æ®,æ¨èç³»ç»Ÿ,Hadoop"
           data-author="" >
            <span class="post-title" title="Hadoop">Hadoop</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All äººå·¥æ™ºèƒ½ "
           href="/blog/2019/08/12/K-%E8%BF%91%E9%82%BB%E7%AE%97%E6%B3%95/"
           data-tag="ç®—æ³•"
           data-author="" >
            <span class="post-title" title="K-è¿‘é‚»ç®—æ³•">K-è¿‘é‚»ç®—æ³•</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All å¤§æ•°æ® "
           href="/blog/2019/08/12/Kafka%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/"
           data-tag="å¤§æ•°æ®,æ¨èç³»ç»Ÿ,Kafka"
           data-author="" >
            <span class="post-title" title="Kafka é›†ç¾¤æ­å»º">Kafka é›†ç¾¤æ­å»º</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All Linux "
           href="/blog/2019/08/12/Linux%E5%91%BD%E4%BB%A4%E4%B9%8Bcd/"
           data-tag="Linuxå¸¸ç”¨å‘½ä»¤"
           data-author="" >
            <span class="post-title" title="Linuxå‘½ä»¤ä¹‹cd">Linuxå‘½ä»¤ä¹‹cd</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All Linux "
           href="/blog/2019/08/12/Linux%E5%91%BD%E4%BB%A4%E4%B9%8Bcat/"
           data-tag="Linuxå¸¸ç”¨å‘½ä»¤"
           data-author="" >
            <span class="post-title" title="Linuxå‘½ä»¤ä¹‹cat">Linuxå‘½ä»¤ä¹‹cat</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All Linux "
           href="/blog/2019/08/12/Linux%E5%91%BD%E4%BB%A4%E4%B9%8Bifconfig/"
           data-tag="Linuxå¸¸ç”¨å‘½ä»¤"
           data-author="" >
            <span class="post-title" title="Linuxå‘½ä»¤ä¹‹ifconfig">Linuxå‘½ä»¤ä¹‹ifconfig</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All Linux "
           href="/blog/2019/08/12/Linux%E5%91%BD%E4%BB%A4%E4%B9%8Bls/"
           data-tag="Linuxå¸¸ç”¨å‘½ä»¤"
           data-author="" >
            <span class="post-title" title="linuxå‘½ä»¤ä¹‹ls">linuxå‘½ä»¤ä¹‹ls</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All Linux "
           href="/blog/2019/08/12/Linux%E5%91%BD%E4%BB%A4%E4%B9%8Bmkdir/"
           data-tag="Linuxå¸¸ç”¨å‘½ä»¤"
           data-author="" >
            <span class="post-title" title="Linuxå‘½ä»¤ä¹‹mkdir">Linuxå‘½ä»¤ä¹‹mkdir</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All Linux "
           href="/blog/2019/08/12/Linux%E5%91%BD%E4%BB%A4%E4%B9%8Bping/"
           data-tag="Linuxå¸¸ç”¨å‘½ä»¤"
           data-author="" >
            <span class="post-title" title="Linuxå‘½ä»¤ä¹‹ping">Linuxå‘½ä»¤ä¹‹ping</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All Linux "
           href="/blog/2019/08/12/Linux%E5%91%BD%E4%BB%A4%E4%B9%8Brm/"
           data-tag="Linuxå¸¸ç”¨å‘½ä»¤"
           data-author="" >
            <span class="post-title" title="Linuxå‘½ä»¤ä¹‹rm">Linuxå‘½ä»¤ä¹‹rm</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All Linux "
           href="/blog/2019/08/12/Linux%E5%91%BD%E4%BB%A4%E4%B9%8Btail/"
           data-tag="Linuxå¸¸ç”¨å‘½ä»¤"
           data-author="" >
            <span class="post-title" title="Linuxå‘½ä»¤ä¹‹tail">Linuxå‘½ä»¤ä¹‹tail</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All Linux "
           href="/blog/2019/08/12/Linux%E5%91%BD%E4%BB%A4%E4%B9%8Btouch/"
           data-tag="Linuxå¸¸ç”¨å‘½ä»¤"
           data-author="" >
            <span class="post-title" title="Linuxå‘½ä»¤ä¹‹touch">Linuxå‘½ä»¤ä¹‹touch</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All å¤§æ•°æ® "
           href="/blog/2019/08/12/MapReduce/"
           data-tag="å¤§æ•°æ®,æ¨èç³»ç»Ÿ,Hadoop"
           data-author="" >
            <span class="post-title" title="MapReduce">MapReduce</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All äººå·¥æ™ºèƒ½ "
           href="/blog/2019/08/12/N-garm/"
           data-tag="ç®—æ³•"
           data-author="" >
            <span class="post-title" title="N-Garm">N-Garm</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All äººå·¥æ™ºèƒ½ "
           href="/blog/2019/08/12/Numpy/"
           data-tag="æ•°æ®åˆ†æ,Numpy"
           data-author="" >
            <span class="post-title" title="Numpy">Numpy</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All å¤§æ•°æ® "
           href="/blog/2019/08/12/Sqoop/"
           data-tag="å¤§æ•°æ®,æ¨èç³»ç»Ÿ,Hadoop,æœªå®Œæˆ"
           data-author="" >
            <span class="post-title" title="Sqoop">Sqoop</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All äººå·¥æ™ºèƒ½ "
           href="/blog/2019/08/12/Tensorflow/"
           data-tag="TensorFlow"
           data-author="" >
            <span class="post-title" title="TensorFlow">TensorFlow</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All Linux "
           href="/blog/2019/08/12/Vim/"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Vim">Vim</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All äººå·¥æ™ºèƒ½ "
           href="/blog/2019/08/12/Word2Vec/"
           data-tag="ç®—æ³•"
           data-author="" >
            <span class="post-title" title="Word2Vec">Word2Vec</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All å¤§æ•°æ® "
           href="/blog/2019/08/12/YARN/"
           data-tag="å¤§æ•°æ®,æ¨èç³»ç»Ÿ,Hadoop"
           data-author="" >
            <span class="post-title" title="YARN">YARN</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All python "
           href="/blog/2019/08/12/hdfs%E8%BF%9E%E6%8E%A5/"
           data-tag="Hadoop"
           data-author="" >
            <span class="post-title" title="hdfsè¿æ¥">hdfsè¿æ¥</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All python "
           href="/blog/2019/08/12/hive%E8%BF%9E%E6%8E%A5/"
           data-tag="Hadoop"
           data-author="" >
            <span class="post-title" title="hiveè¿æ¥">hiveè¿æ¥</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All äººå·¥æ™ºèƒ½ "
           href="/blog/2019/08/12/pandas/"
           data-tag="æ•°æ®åˆ†æ,Pandas"
           data-author="" >
            <span class="post-title" title="Pandas">Pandas</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All äººå·¥æ™ºèƒ½ "
           href="/blog/2019/08/12/pytorch/"
           data-tag="pytorch"
           data-author="" >
            <span class="post-title" title="torch">torch</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All äººå·¥æ™ºèƒ½ æ·±åº¦å­¦ä¹  "
           href="/blog/2019/08/12/%E4%BC%98%E5%8C%96%E7%AE%97%E6%B3%95/"
           data-tag="ç®—æ³•,æ¢¯åº¦ä¸‹é™"
           data-author="" >
            <span class="post-title" title="äººå·¥æ™ºèƒ½ä¼˜åŒ–ç®—æ³•">äººå·¥æ™ºèƒ½ä¼˜åŒ–ç®—æ³•</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All æ’åºç®—æ³• "
           href="/blog/2019/08/12/%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F/"
           data-tag="æ’åºç®—æ³•"
           data-author="" >
            <span class="post-title" title="å†’æ³¡æ’åº">å†’æ³¡æ’åº</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All æ’åºç®—æ³• "
           href="/blog/2019/08/12/%E5%9F%BA%E6%95%B0%E6%8E%92%E5%BA%8F/"
           data-tag="æ’åºç®—æ³•"
           data-author="" >
            <span class="post-title" title="åŸºæ•°æ’åº">åŸºæ•°æ’åº</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All æ’åºç®—æ³• "
           href="/blog/2019/08/12/%E5%A0%86%E6%8E%92%E5%BA%8F/"
           data-tag="æ’åºç®—æ³•"
           data-author="" >
            <span class="post-title" title="å †æ’åº">å †æ’åº</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All æ’åºç®—æ³• "
           href="/blog/2019/08/12/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F/"
           data-tag="æ’åºç®—æ³•"
           data-author="" >
            <span class="post-title" title="å¸Œå°”æ’åº">å¸Œå°”æ’åº</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All æ’åºç®—æ³• "
           href="/blog/2019/08/12/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F/"
           data-tag="æ’åºç®—æ³•"
           data-author="" >
            <span class="post-title" title="å½’å¹¶æ’åº">å½’å¹¶æ’åº</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All æ’åºç®—æ³• "
           href="/blog/2019/08/12/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/"
           data-tag="æ’åºç®—æ³•"
           data-author="" >
            <span class="post-title" title="å¿«é€Ÿæ’åº">å¿«é€Ÿæ’åº</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All æ’åºç®—æ³• "
           href="/blog/2019/08/12/%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F/"
           data-tag="æ’åºç®—æ³•"
           data-author="" >
            <span class="post-title" title="æ’å…¥æ’åº">æ’å…¥æ’åº</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All æ•°æ®ç»“æ„ "
           href="/blog/2019/08/12/%E6%A0%88/"
           data-tag="Python"
           data-author="" >
            <span class="post-title" title="æ ˆ">æ ˆ</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All "
           href="/blog/2019/08/12/%E6%95%B0%E5%AD%A6/"
           data-tag="æ•°å­¦"
           data-author="" >
            <span class="post-title" title="æ•°å­¦">æ•°å­¦</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All æ•°æ®ç»“æ„ "
           href="/blog/2019/08/12/%E6%A0%91/"
           data-tag="Python"
           data-author="" >
            <span class="post-title" title="æ ‘">æ ‘</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All æ’åºç®—æ³• "
           href="/blog/2019/08/12/%E6%A1%B6%E6%8E%92%E5%BA%8F/"
           data-tag="æ’åºç®—æ³•"
           data-author="" >
            <span class="post-title" title="æ¡¶æ’åº">æ¡¶æ’åº</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All äººå·¥æ™ºèƒ½ æ·±åº¦å­¦ä¹  "
           href="/blog/2019/08/12/%E6%BF%80%E6%B4%BB%E5%87%BD%E6%95%B0/"
           data-tag="ç®—æ³•"
           data-author="" >
            <span class="post-title" title="æ¿€æ´»å‡½æ•°">æ¿€æ´»å‡½æ•°</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All æ’åºç®—æ³• "
           href="/blog/2019/08/12/%E8%AE%A1%E6%95%B0%E6%8E%92%E5%BA%8F/"
           data-tag="æ’åºç®—æ³•"
           data-author="" >
            <span class="post-title" title="è®¡æ•°æ’åº">è®¡æ•°æ’åº</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All æ•°æ®ç»“æ„ "
           href="/blog/2019/08/12/%E9%93%BE%E8%A1%A8/"
           data-tag="Python"
           data-author="" >
            <span class="post-title" title="é“¾è¡¨">é“¾è¡¨</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All æ•°æ®ç»“æ„ "
           href="/blog/2019/08/12/%E9%98%9F%E5%88%97/"
           data-tag="Python"
           data-author="" >
            <span class="post-title" title="é˜Ÿåˆ—">é˜Ÿåˆ—</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All æ’åºç®—æ³• "
           href="/blog/2019/08/12/%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F/"
           data-tag="æ’åºç®—æ³•"
           data-author="" >
            <span class="post-title" title="é€‰æ‹©æ’åº">é€‰æ‹©æ’åº</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All Linux "
           href="/blog/2019/08/12/ES%E9%83%A8%E7%BD%B2%E6%B5%81%E7%A8%8B/"
           data-tag="Elasticsearch,æœç´¢"
           data-author="" >
            <span class="post-title" title="ESéƒ¨ç½²">ESéƒ¨ç½²</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All å¤§æ•°æ® "
           href="/blog/2019/08/12/Flume/"
           data-tag="å¤§æ•°æ®,æ¨èç³»ç»Ÿ,Hadoop"
           data-author="" >
            <span class="post-title" title="Flume">Flume</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All å¤§æ•°æ® "
           href="/blog/2019/08/12/Kafka/"
           data-tag="å¤§æ•°æ®,æ¨èç³»ç»Ÿ,Hadoop"
           data-author="" >
            <span class="post-title" title="Kafka">Kafka</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All å¤§æ•°æ® "
           href="/blog/2019/08/12/Spark/"
           data-tag="å¤§æ•°æ®,æ¨èç³»ç»Ÿ,Hadoop"
           data-author="" >
            <span class="post-title" title="Spark">Spark</span>
            <span class="post-date" title="2019-08-12 18:58:00">2019/08/12</span>
        </a>
        
        <a  class="All Web "
           href="/blog/2018/06/02/supervisor/"
           data-tag="web,python"
           data-author="" >
            <span class="post-title" title="supervisorè¿›ç¨‹ç®¡ç†">supervisorè¿›ç¨‹ç®¡ç†</span>
            <span class="post-date" title="2018-06-02 15:58:00">2018/06/02</span>
        </a>
        
        <a  class="All Web "
           href="/blog/2018/05/17/unittest/"
           data-tag="web,æµ‹è¯•"
           data-author="" >
            <span class="post-title" title="å•å…ƒæµ‹è¯•">å•å…ƒæµ‹è¯•</span>
            <span class="post-date" title="2018-05-17 19:58:00">2018/05/17</span>
        </a>
        
        <a  class="All Web "
           href="/blog/2018/05/02/web%E9%83%A8%E7%BD%B2/"
           data-tag="web,flask"
           data-author="" >
            <span class="post-title" title="éƒ¨ç½²flaské¡¹ç›®å…¨æµç¨‹">éƒ¨ç½²flaské¡¹ç›®å…¨æµç¨‹</span>
            <span class="post-date" title="2018-05-02 21:58:00">2018/05/02</span>
        </a>
        
        <a  class="All Linux "
           href="/blog/2017/08/12/crontab/"
           data-tag="cenos,web"
           data-author="" >
            <span class="post-title" title="crontabå®šæ—¶ä»»åŠ¡">crontabå®šæ—¶ä»»åŠ¡</span>
            <span class="post-date" title="2017-08-12 18:58:00">2017/08/12</span>
        </a>
        
        <a  class="All Linux "
           href="/blog/2017/05/13/git/"
           data-tag="cenos"
           data-author="" >
            <span class="post-title" title="git">git</span>
            <span class="post-date" title="2017-05-13 18:58:00">2017/05/13</span>
        </a>
        
        <a  class="All Web "
           href="/blog/2017/05/13/socketio/"
           data-tag="web,èŠå¤©"
           data-author="" >
            <span class="post-title" title="Socketioå³æ—¶é€šè®¯">Socketioå³æ—¶é€šè®¯</span>
            <span class="post-date" title="2017-05-13 14:58:00">2017/05/13</span>
        </a>
        
        <a  class="All Linux "
           href="/blog/2017/05/10/network/"
           data-tag="cenos,ç½‘å¡é…ç½®"
           data-author="" >
            <span class="post-title" title="Cenosé…ç½®é™æ€IP">Cenosé…ç½®é™æ€IP</span>
            <span class="post-date" title="2017-05-10 15:58:00">2017/05/10</span>
        </a>
        
        <a  class="All Linux "
           href="/blog/2017/04/23/miniconda/"
           data-tag="è™šæ‹Ÿç¯å¢ƒ"
           data-author="" >
            <span class="post-title" title="miniconda">miniconda</span>
            <span class="post-date" title="2017-04-23 17:27:00">2017/04/23</span>
        </a>
        
        <a  class="All Web "
           href="/blog/2017/04/22/Elasticsearch/"
           data-tag="æœªå®Œæˆ,web,æœç´¢å¼•æ“"
           data-author="" >
            <span class="post-title" title="Elasticsearch">Elasticsearch</span>
            <span class="post-date" title="2017-04-22 19:27:00">2017/04/22</span>
        </a>
        
        <a  class="All Docker "
           href="/blog/2017/04/20/Docker/"
           data-tag="Docker,è™šæ‹ŸåŒ–"
           data-author="" >
            <span class="post-title" title="Docker">Docker</span>
            <span class="post-date" title="2017-04-20 20:58:00">2017/04/20</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>
    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="åˆ‡æ¢å…¨å± å¿«æ·é”® s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-ESéƒ¨ç½²æµç¨‹" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">ESéƒ¨ç½²</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="Linux">Linux</a>
            
        </span>
        
        
        <span class="tag">
            <i class="iconfont icon-tag"></i>
            
            <a class="color4">Elasticsearch</a>
            
            <a class="color3">æœç´¢</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
            Created At : <time class="date" title='Updated At: 2020-07-01 18:07:42'>2019-08-12 18:58</time>
        
    </div>
    <div class="article-meta">
        
        <span>Count:3.4k</span>
        
        
        <span id="busuanzi_container_page_pv">
            Views ğŸ‘€ :<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
        <span class="top-comment" title="è·³è½¬è‡³è¯„è®ºåŒº">
            <a href="#comments">
                Comment:<span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </a>
        </span>
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#ES%E9%83%A8%E7%BD%B2"><span class="toc-text">ESéƒ¨ç½²</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E9%85%8D%E7%BD%AE%E7%BD%91%E5%8D%A1%EF%BC%88%E6%97%A0%E7%BD%91%E7%8E%AF%E5%A2%83%E5%BF%BD%E7%95%A5%E6%AD%A4%E6%9D%A1%EF%BC%89"><span class="toc-text">ä¸€ã€é…ç½®ç½‘å¡ï¼ˆæ— ç½‘ç¯å¢ƒå¿½ç•¥æ­¤æ¡ï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E9%85%8D%E7%BD%AE%E6%9C%AC%E5%9C%B0yum%E6%BA%90%EF%BC%88%E6%9C%89%E7%BD%91%E7%8E%AF%E5%A2%83%E5%BF%BD%E7%95%A5%E6%AD%A4%E6%9D%A1%EF%BC%89"><span class="toc-text">äºŒã€é…ç½®æœ¬åœ°yumæºï¼ˆæœ‰ç½‘ç¯å¢ƒå¿½ç•¥æ­¤æ¡ï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%EF%BC%9A"><span class="toc-text">æ³¨æ„ï¼š</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%85%B3%E9%97%AD%E9%98%B2%E7%81%AB%E5%A2%99%E5%8F%8Aselinux"><span class="toc-text">ä¸‰ã€å…³é—­é˜²ç«å¢™åŠselinux</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%EF%BC%9A-1"><span class="toc-text">æ³¨æ„ï¼š</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E5%AE%89%E8%A3%85docker"><span class="toc-text">å››ã€å®‰è£…docker</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%EF%BC%9A-2"><span class="toc-text">æ³¨æ„ï¼š</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E5%BC%80%E5%90%AFdocker%E6%9C%8D%E5%8A%A1"><span class="toc-text">äº”ã€å¼€å¯dockeræœåŠ¡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E5%AE%89%E8%A3%85java-%E9%83%A8%E7%BD%B2es-%E7%9A%84%E4%BE%9D%E8%B5%96"><span class="toc-text">å…­ã€å®‰è£…java(éƒ¨ç½²es çš„ä¾èµ–)</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9C%AC%E5%9C%B0%E5%AE%89%E8%A3%85java"><span class="toc-text">æœ¬åœ°å®‰è£…java</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%83%E3%80%81%E8%AF%BB%E5%8F%96%E9%95%9C%E5%83%8F%EF%BC%88%E6%A0%B9%E6%8D%AE%E5%AE%9E%E9%99%85%E6%83%85%E5%86%B5%EF%BC%89"><span class="toc-text">ä¸ƒã€è¯»å–é•œåƒï¼ˆæ ¹æ®å®é™…æƒ…å†µï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%AB%E3%80%81%E5%A6%82%E6%9E%9C%E9%9C%80%E8%A6%81docker-compose%E5%90%AF%E5%8A%A8"><span class="toc-text">å…«ã€å¦‚æœéœ€è¦docker-composeå¯åŠ¨</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2%E7%9A%84%E9%83%A8%E7%BD%B2"><span class="toc-text">æœç´¢çš„éƒ¨ç½²</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E9%83%A8%E7%BD%B2%E9%9B%86%E7%BE%A4"><span class="toc-text">ä¸€ã€éƒ¨ç½²é›†ç¾¤</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%EF%BC%9A-3"><span class="toc-text">æ³¨æ„ï¼š</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A6%82%E6%9E%9C%E6%B2%A1%E6%9C%89%E6%93%8D%E4%BD%9C%E6%9D%83%E9%99%90%EF%BC%8C%E5%88%99%E6%89%A7%E8%A1%8C%EF%BC%9A"><span class="toc-text">å¦‚æœæ²¡æœ‰æ“ä½œæƒé™ï¼Œåˆ™æ‰§è¡Œï¼š</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BD%93%E4%B8%8D%E4%BD%BF%E7%94%A8es%E8%BF%9C%E7%A8%8B%E8%AF%8D%E5%85%B8%E6%97%B6%EF%BC%9A"><span class="toc-text">å½“ä¸ä½¿ç”¨esè¿œç¨‹è¯å…¸æ—¶ï¼š</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E%EF%BC%9A"><span class="toc-text">è¯´æ˜ï¼š</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E8%87%AA%E5%AE%9A%E4%B9%89%E5%90%8C%E4%B9%89%E8%AF%8D"><span class="toc-text">æ·»åŠ è‡ªå®šä¹‰åŒä¹‰è¯</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E4%BF%AE%E6%94%B9%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AE"><span class="toc-text">äºŒã€ä¿®æ”¹é›†ç¾¤é…ç½®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%90%AF%E5%8A%A8%E9%9B%86%E7%BE%A4"><span class="toc-text">ä¸‰ã€å¯åŠ¨é›†ç¾¤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E6%90%9C%E7%B4%A2%E9%83%A8%E7%BD%B2"><span class="toc-text">å››ã€æœç´¢éƒ¨ç½²</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%EF%BC%9A-4"><span class="toc-text">æ³¨æ„ï¼š</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E5%88%A0%E9%99%A4%E5%AD%97%E6%AE%B5"><span class="toc-text">æ·»åŠ åˆ é™¤å­—æ®µ</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%EF%BC%9A-5"><span class="toc-text">æ³¨æ„ï¼š</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E6%9F%A5%E8%AF%A2%E5%90%AF%E5%8A%A8%E7%BB%93%E6%9E%9C"><span class="toc-text">äº”ã€æŸ¥è¯¢å¯åŠ¨ç»“æœ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E6%95%B0%E6%8D%AE%E9%87%8F%E6%9F%A5%E8%AF%A2"><span class="toc-text">å…­ã€æ•°æ®é‡æŸ¥è¯¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%83%E3%80%81search-guard%E4%B8%BAes%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEauth"><span class="toc-text">ä¸ƒã€search-guardä¸ºesé›†ç¾¤é…ç½®auth</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81%E5%AE%89%E8%A3%85search-guard%E6%8F%92%E4%BB%B6%E5%92%8Cssl%E6%8F%92%E4%BB%B6"><span class="toc-text">1ã€å®‰è£…search-guardæ’ä»¶å’Œsslæ’ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2es%E7%9A%84%E7%89%88%E6%9C%AC"><span class="toc-text">æŸ¥è¯¢esçš„ç‰ˆæœ¬</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%89%E8%A3%85search-guard"><span class="toc-text">å®‰è£…search-guard</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%89%E8%A3%85search-guard-ssl"><span class="toc-text">å®‰è£…search-guard-ssl</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%EF%BC%9A-6"><span class="toc-text">æ³¨æ„ï¼š</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81%E7%94%9F%E6%88%90es%E8%AF%81%E4%B9%A6%E6%96%87%E4%BB%B6"><span class="toc-text">2ã€ç”Ÿæˆesè¯ä¹¦æ–‡ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BDsearch-guard%E6%BA%90%E7%A0%81%E5%B7%A5%E5%85%B7%EF%BC%8C%E7%94%9F%E6%88%90%E8%AF%81%E4%B9%A6%E7%9A%84%E5%B7%A5%E5%85%B7"><span class="toc-text">ä¸‹è½½search-guardæºç å·¥å…·ï¼Œç”Ÿæˆè¯ä¹¦çš„å·¥å…·</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9ca%E9%85%8D%E7%BD%AE"><span class="toc-text">ä¿®æ”¹caé…ç½®</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9sh%E6%96%87%E4%BB%B6"><span class="toc-text">ä¿®æ”¹shæ–‡ä»¶</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E8%AF%81%E4%B9%A6%EF%BC%8C%E8%BF%90%E8%A1%8Cexample-sh"><span class="toc-text">ç”Ÿæˆè¯ä¹¦ï¼Œè¿è¡Œexample.sh</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E3%80%81%E9%85%8D%E7%BD%AEes%EF%BC%8C%E5%90%AF%E5%8A%A8search-guard"><span class="toc-text">3ã€é…ç½®esï¼Œå¯åŠ¨search-guard</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B0%86%E7%94%9F%E6%88%90%E7%9A%84%E5%90%84%E4%B8%AA%E8%8A%82%E7%82%B9%E7%9A%84%E8%AF%81%E4%B9%A6%EF%BC%8C%E5%88%86%E5%88%ABcopy%E5%88%B0%E5%90%84%E4%B8%AA%E8%8A%82%E7%82%B9%E4%B8%8A"><span class="toc-text">å°†ç”Ÿæˆçš„å„ä¸ªèŠ‚ç‚¹çš„è¯ä¹¦ï¼Œåˆ†åˆ«copyåˆ°å„ä¸ªèŠ‚ç‚¹ä¸Š</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9es%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6config-elaticsearch-yml"><span class="toc-text">ä¿®æ”¹esçš„é…ç½®æ–‡ä»¶config&#x2F;elaticsearch.yml</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8es"><span class="toc-text">å¯åŠ¨es</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4%E3%80%81%E5%B0%86search-guard%E7%9A%84%E9%85%8D%E7%BD%AE%E5%86%99%E5%85%A5es%E4%B8%AD"><span class="toc-text">4ã€å°†search-guardçš„é…ç½®å†™å…¥esä¸­</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BB%A5%E4%B8%8A%E9%85%8D%E7%BD%AE%E7%94%9F%E6%88%90%E7%9A%84%E5%91%BD%E4%BB%A4%E4%B8%BA"><span class="toc-text">ä»¥ä¸Šé…ç½®ç”Ÿæˆçš„å‘½ä»¤ä¸º</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5%E3%80%81%E6%B7%BB%E5%8A%A0es%E7%94%A8%E6%88%B7%E5%8F%8A%E5%AF%86%E7%A0%81"><span class="toc-text">5ã€æ·»åŠ esç”¨æˆ·åŠå¯†ç </span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%94%9F%E6%88%90md5%E5%8A%A0%E5%AF%86%E5%AF%86%E7%A0%81"><span class="toc-text">ç”Ÿæˆmd5åŠ å¯†å¯†ç </span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7%E5%8F%8A%E5%AF%86%E7%A0%81"><span class="toc-text">æ·»åŠ ç”¨æˆ·åŠå¯†ç </span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7%E7%9A%84%E6%9D%83%E9%99%90"><span class="toc-text">æ·»åŠ ç”¨æˆ·çš„æƒé™</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%87%8D%E6%96%B0%E5%B0%86%E9%85%8D%E7%BD%AE%E5%86%99%E5%85%A5es%E4%B8%AD%E7%94%9F%E6%95%88"><span class="toc-text">é‡æ–°å°†é…ç½®å†™å…¥esä¸­ç”Ÿæ•ˆ</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6%E3%80%81%E6%B5%8B%E8%AF%95"><span class="toc-text">6ã€æµ‹è¯•</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%AB%E3%80%81x-pack%E4%B8%BAes%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEauth"><span class="toc-text">å…«ã€x-packä¸ºesé›†ç¾¤é…ç½®auth</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E8%A6%81%E6%B1%82"><span class="toc-text">1ã€è¦æ±‚</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E5%AE%89%E8%A3%85x-pack"><span class="toc-text">2ã€å®‰è£…x-pack</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E5%AF%B9elasticsearch%E3%80%81logstash%E3%80%81kibana%E5%88%86%E5%88%AB%E8%AE%BE%E7%BD%AE%E7%99%BB%E5%BD%95%E5%AF%86%E7%A0%81%EF%BC%88%E9%BB%98%E8%AE%A4es%E7%94%A8%E6%88%B7%E5%90%8D%E4%B8%BAelastic%EF%BC%8Clogstash%E7%94%A8%E6%88%B7%E5%90%8D%E4%B8%BAlogstash-system%EF%BC%8Ckibana%E7%94%A8%E6%88%B7%E5%90%8D%E4%B8%BAkibana%EF%BC%89"><span class="toc-text">3ã€å¯¹elasticsearchã€logstashã€kibanaåˆ†åˆ«è®¾ç½®ç™»å½•å¯†ç ï¼ˆé»˜è®¤esç”¨æˆ·åä¸ºelasticï¼Œlogstashç”¨æˆ·åä¸ºlogstash_systemï¼Œkibanaç”¨æˆ·åä¸ºkibanaï¼‰</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81%E9%85%8D%E7%BD%AE-config-elasticsearch-yml"><span class="toc-text">4ã€é…ç½®.&#x2F;config&#x2F;elasticsearch.yml</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%E3%80%81%E6%B5%8B%E8%AF%95%E8%AE%BF%E9%97%AE"><span class="toc-text">5ã€æµ‹è¯•è®¿é—®</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6%E3%80%81x-pack%E9%BB%98%E8%AE%A4%E8%B4%A6%E5%8F%B7%E5%AF%86%E7%A0%81"><span class="toc-text">6ã€x-packé»˜è®¤è´¦å·å¯†ç </span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%EF%BC%9A-7"><span class="toc-text">æ³¨æ„ï¼š</span></a></li></ol></li></ol></li></ol></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="ESéƒ¨ç½²"><a href="#ESéƒ¨ç½²" class="headerlink" title="ESéƒ¨ç½²"></a>ESéƒ¨ç½²</h1><h4 id="ä¸€ã€é…ç½®ç½‘å¡ï¼ˆæ— ç½‘ç¯å¢ƒå¿½ç•¥æ­¤æ¡ï¼‰"><a href="#ä¸€ã€é…ç½®ç½‘å¡ï¼ˆæ— ç½‘ç¯å¢ƒå¿½ç•¥æ­¤æ¡ï¼‰" class="headerlink" title="ä¸€ã€é…ç½®ç½‘å¡ï¼ˆæ— ç½‘ç¯å¢ƒå¿½ç•¥æ­¤æ¡ï¼‰"></a>ä¸€ã€é…ç½®ç½‘å¡ï¼ˆæ— ç½‘ç¯å¢ƒå¿½ç•¥æ­¤æ¡ï¼‰</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/sysconfig/network-scripts/ifcfg-*</span><br><span class="line"></span><br><span class="line">	BOOTPROTO=static	# ä¿®æ”¹ä¸ºé™æ€ç½‘è·¯ï¼Œå¯ä»¥ä¸ä¿®æ”¹</span><br><span class="line">	ONBOOT=yes</span><br><span class="line"></span><br><span class="line">systemctl restart network</span><br></pre></td></tr></table></figure>


<h4 id="äºŒã€é…ç½®æœ¬åœ°yumæºï¼ˆæœ‰ç½‘ç¯å¢ƒå¿½ç•¥æ­¤æ¡ï¼‰"><a href="#äºŒã€é…ç½®æœ¬åœ°yumæºï¼ˆæœ‰ç½‘ç¯å¢ƒå¿½ç•¥æ­¤æ¡ï¼‰" class="headerlink" title="äºŒã€é…ç½®æœ¬åœ°yumæºï¼ˆæœ‰ç½‘ç¯å¢ƒå¿½ç•¥æ­¤æ¡ï¼‰"></a>äºŒã€é…ç½®æœ¬åœ°yumæºï¼ˆæœ‰ç½‘ç¯å¢ƒå¿½ç•¥æ­¤æ¡ï¼‰</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">mkdir /centos7		#å­˜æ”¾æœ¬åœ°yumæº</span><br><span class="line"></span><br><span class="line">mount /iso  ./tmp		#å°†isoé•œåƒæŒ‚è½½åˆ°æœ¬åœ°æ–‡ä»¶ä¸­</span><br><span class="line"></span><br><span class="line">cp -vrf ./tmp/* /centos7	#å°†æŒ‚è½½ååˆ°æœ¬åœ°æ–‡ä»¶copyåˆ°æœ¬åœ°yumæºæ–‡ä»¶ä¸­</span><br><span class="line"></span><br><span class="line">cd /etc/yum.repos.d		</span><br><span class="line"></span><br><span class="line">mv ./CentOS-*	/root/tmp	#ç§»é™¤yumåˆ°ç½‘ç»œæºä¿¡æ¯</span><br><span class="line"></span><br><span class="line">vi yum.repo		#ç¼–å†™æœ¬åœ°yum</span><br><span class="line">	[centos7-yum]</span><br><span class="line">	name=&quot;yum.local&quot;</span><br><span class="line">	baseurl=file:///centos7</span><br><span class="line">	gpgcheck=0</span><br><span class="line">	enabled=1</span><br><span class="line"></span><br><span class="line">yum clean all		#åˆ·æ–°ç¼“å­˜</span><br><span class="line"></span><br><span class="line">rm -rf /var/cache/yum</span><br><span class="line"></span><br><span class="line">yum list		#æ˜¾ç¤ºæ•°æ®åˆ™è¡¨ç¤ºæœ¬åœ°yumé…ç½®æˆåŠŸ</span><br><span class="line"></span><br><span class="line">yum install net-tools	#å®‰è£…net-toolsï¼ŒæŸ¥çœ‹ifconfig</span><br></pre></td></tr></table></figure>
<h5 id="æ³¨æ„ï¼š"><a href="#æ³¨æ„ï¼š" class="headerlink" title="æ³¨æ„ï¼š"></a>æ³¨æ„ï¼š</h5><p>â€‹    æœ¬åœ°æŒ‚è½½å®Œé•œåƒä¹‹åï¼Œå¦‚æœè¿˜è¦ä½¿ç”¨è¯¥æ–‡ä»¶çš„è¯ï¼Œå¿…é¡»å…ˆumountè¯¥æ–‡ä»¶ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼Œæç¤ºæƒé™ä¸å¤Ÿ</p>
<h4 id="ä¸‰ã€å…³é—­é˜²ç«å¢™åŠselinux"><a href="#ä¸‰ã€å…³é—­é˜²ç«å¢™åŠselinux" class="headerlink" title="ä¸‰ã€å…³é—­é˜²ç«å¢™åŠselinux"></a>ä¸‰ã€å…³é—­é˜²ç«å¢™åŠselinux</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">systemctl disable firewalld</span><br><span class="line">systemctl stop firewalld</span><br><span class="line"></span><br><span class="line">vi /etc/sysconfig/selinux</span><br><span class="line">	SELINUX=disabled</span><br><span class="line">setenforce 0</span><br><span class="line">getenforce</span><br></pre></td></tr></table></figure>
<h5 id="æ³¨æ„ï¼š-1"><a href="#æ³¨æ„ï¼š-1" class="headerlink" title="æ³¨æ„ï¼š"></a>æ³¨æ„ï¼š</h5><p>â€‹    å®‰è£…dockeræ—¶å¯ä»¥ä¸ç”¨å…³é—­ï¼Œå½“esè¿›è¡Œé›†ç¾¤éƒ¨ç½²æ—¶ï¼Œå¿…é¡»å…³é—­ï¼Œå¦åˆ™é›†ç¾¤æ— æ³•ç”Ÿæ•ˆ</p>
<h4 id="å››ã€å®‰è£…docker"><a href="#å››ã€å®‰è£…docker" class="headerlink" title="å››ã€å®‰è£…docker"></a>å››ã€å®‰è£…docker</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">scp docker.zip root@ip:~	#æ²¡ç½‘æ‰‹åŠ¨copy</span><br><span class="line">unzip docker.zip</span><br><span class="line">cd docker</span><br><span class="line">sh setup_without_container-selinux-2.9	#è™šæ‹Ÿæœº/å®ä½“æœº</span><br><span class="line"><span class="meta">#</span><span class="bash"> æœåŠ¡å™¨ï¼Œç›´æ¥è”ç½‘å®‰è£…ï¼Œä¸èµ˜è¿°</span></span><br></pre></td></tr></table></figure>
<p>setup_without_container-selinux-2.9.sh è„šæœ¬å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">auto-mount</span></span><br><span class="line">yum clean all</span><br><span class="line">yum makecache</span><br><span class="line">yum remove -y docker-engine</span><br><span class="line">mkdir -p /data/tmp</span><br><span class="line">chmod -R 777 /data/tmp</span><br><span class="line">mkdir -p /data/sys/var/docker</span><br><span class="line">chmod -R 777 /data/sys/var/docker</span><br><span class="line">ln -s /data/sys/var/docker /var/lib/docker</span><br><span class="line">ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span><br><span class="line">echo &quot;vm.max_map_count=655360&quot; &gt;&gt; /etc/sysctl.conf &amp;&amp; sysctl -p</span><br><span class="line">yum install -y net-tools</span><br><span class="line">useradd -d /data/duser -m duser</span><br><span class="line">echo &quot;duser:5VSDHai4&quot; |chpasswd</span><br><span class="line">echo &quot;duser    ALL=(ALL) NOPASSWD: ALL&quot; &gt;&gt; /etc/sudoers</span><br><span class="line">rpm -ivh container-selinux-2.9-4.el7.noarch.rpm</span><br><span class="line">yum install -y ./docker-ce-17.09.0.ce-1.el7.centos.x86_64.rpm</span><br><span class="line">usermod -aG docker duser</span><br><span class="line">rm -fr ./*</span><br><span class="line">cd ../</span><br><span class="line">rm -fr docker_install docker_install.tar.gz</span><br></pre></td></tr></table></figure>
<h5 id="æ³¨æ„ï¼š-2"><a href="#æ³¨æ„ï¼š-2" class="headerlink" title="æ³¨æ„ï¼š"></a>æ³¨æ„ï¼š</h5><p>â€‹    shè„šæœ¬å¯ä»¥æ ¹æ®å…·ä½“æƒ…å†µè¿›è¡Œä¿®æ”¹</p>
<p>â€‹    å½“å‡ºç°æ— æ³•å®‰è£…æˆåŠŸï¼Œä¸”æç¤ºrpmå®‰è£…é—®é¢˜æ—¶ï¼Œåœ¨rpmå®‰è£…å‘½ä»¤ä¹‹åï¼ŒåŠ  â€”nodeps â€”force  ï¼Œæ„æ€ä¸ºä¸è€ƒè™‘åˆ†æåŒ…ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œå³å¯å®‰è£…æˆåŠŸ</p>
<h4 id="äº”ã€å¼€å¯dockeræœåŠ¡"><a href="#äº”ã€å¼€å¯dockeræœåŠ¡" class="headerlink" title="äº”ã€å¼€å¯dockeræœåŠ¡"></a>äº”ã€å¼€å¯dockeræœåŠ¡</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">systemctl start docker</span><br><span class="line">systemctl enable docker</span><br><span class="line">systemctl status docker</span><br><span class="line">docker version	#æŸ¥è¯¢æ˜¯å¦å¼€å¯docker</span><br></pre></td></tr></table></figure>


<h4 id="å…­ã€å®‰è£…java-éƒ¨ç½²es-çš„ä¾èµ–"><a href="#å…­ã€å®‰è£…java-éƒ¨ç½²es-çš„ä¾èµ–" class="headerlink" title="å…­ã€å®‰è£…java(éƒ¨ç½²es çš„ä¾èµ–)"></a>å…­ã€å®‰è£…java(éƒ¨ç½²es çš„ä¾èµ–)</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -version	#æŸ¥çœ‹æ˜¯å¦æœ‰javaï¼Œå¦‚æœæœ‰ï¼Œå¿½ç•¥ä»¥åæ­¥éª¤</span><br></pre></td></tr></table></figure>
<h5 id="æœ¬åœ°å®‰è£…java"><a href="#æœ¬åœ°å®‰è£…java" class="headerlink" title="æœ¬åœ°å®‰è£…java"></a>æœ¬åœ°å®‰è£…java</h5><p>â€‹    <a target="_blank" rel="noopener" href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html">http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a> </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mkdir /usr/java</span><br><span class="line">cp jdk-8u171-linux-x64.rpm /usr/java</span><br><span class="line">cd /usr/java</span><br><span class="line">chmod +x jdk-8u171-linux-x64.rpm</span><br><span class="line">rpm -ivh jdk-8u171-linux-x64.rpm</span><br><span class="line">java -version</span><br></pre></td></tr></table></figure>


<h4 id="ä¸ƒã€è¯»å–é•œåƒï¼ˆæ ¹æ®å®é™…æƒ…å†µï¼‰"><a href="#ä¸ƒã€è¯»å–é•œåƒï¼ˆæ ¹æ®å®é™…æƒ…å†µï¼‰" class="headerlink" title="ä¸ƒã€è¯»å–é•œåƒï¼ˆæ ¹æ®å®é™…æƒ…å†µï¼‰"></a>ä¸ƒã€è¯»å–é•œåƒï¼ˆæ ¹æ®å®é™…æƒ…å†µï¼‰</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">docker load -i image.tar	#å¦‚æœæ˜¯zipçš„é•œåƒï¼Œåˆ™å…ˆunziipæˆtaræ–‡ä»¶</span><br><span class="line">docker images</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¯åŠ¨å®¹å™¨ï¼Œå¹¶ä¸”å°†æœ¬åœ°çš„æ–‡ä»¶ç›®å½•æŒ‚è½½è‡³å®¹å™¨dataç›®å½•ä¸‹</span></span><br><span class="line">docker run -itd -p 8888:8888 -v /data/origin_file:/data/duser/patent_similaruty/data/origin_file --name patent_preprocess patent_preprocess:1.1 bash</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">è¿›å…¥å®¹å™¨</span></span><br><span class="line">docker exec -it patent_preprocess bash</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">åœæ­¢å®¹å™¨</span></span><br><span class="line">docker stop patent_preprocess</span><br></pre></td></tr></table></figure>


<h4 id="å…«ã€å¦‚æœéœ€è¦docker-composeå¯åŠ¨"><a href="#å…«ã€å¦‚æœéœ€è¦docker-composeå¯åŠ¨" class="headerlink" title="å…«ã€å¦‚æœéœ€è¦docker-composeå¯åŠ¨"></a>å…«ã€å¦‚æœéœ€è¦docker-composeå¯åŠ¨</h4><p>å®‰è£…å¹¶ä½¿ç”¨docker-compose</p>
<p>æ–¹æ³•ä¸€ï¼š</p>
<p>ä½¿ç”¨curlå‘½ä»¤ä¸‹è½½</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -L https://github.com/docker/compose/releases/download/1.24.0/docker-compose-Linux-x86_64 -o /usr/local/bin/docker-compose</span><br><span class="line"></span><br><span class="line">chmod +x /usr/local/bin/docker-compose</span><br></pre></td></tr></table></figure>
<p>æ–¹æ³•äºŒï¼š</p>
<p>ä½¿ç”¨pipå‘½ä»¤ä¸‹è½½</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">yum -y install epel-release</span><br><span class="line"></span><br><span class="line">yum -y install python-pip</span><br><span class="line"></span><br><span class="line">pip install docker-compose</span><br></pre></td></tr></table></figure>


<h2 id="æœç´¢çš„éƒ¨ç½²"><a href="#æœç´¢çš„éƒ¨ç½²" class="headerlink" title="æœç´¢çš„éƒ¨ç½²"></a>æœç´¢çš„éƒ¨ç½²</h2><h3 id="ä¸€ã€éƒ¨ç½²é›†ç¾¤"><a href="#ä¸€ã€éƒ¨ç½²é›†ç¾¤" class="headerlink" title="ä¸€ã€éƒ¨ç½²é›†ç¾¤"></a>ä¸€ã€éƒ¨ç½²é›†ç¾¤</h3><p>userç”¨æˆ·ä¸‹</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">unzip elasticsearch_bak.zip	#è§£å‹å¼•æ“æ–‡ä»¶</span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¿®æ”¹é»˜è®¤çš„é…ç½®æ–‡ä»¶</span></span><br><span class="line">cd elasticsearch_bak/config</span><br><span class="line">vi elasctsearch.yml</span><br><span class="line">	cluster.name: es-zl		#ä¿®æ”¹é›†ç¾¤åï¼Œæ‰€æœ‰èŠ‚ç‚¹é…ç½®çš„è¯¥åç§°å¿…é¡»ä¸€æ ·</span><br><span class="line">	node.name: es-46	#ä¿®æ”¹æ¯ä¸ªèŠ‚ç‚¹çš„åç§°ï¼Œå¿…é¡»ä¸åŒï¼Œä»¥åŒºåˆ†æ¯ä¸ªèŠ‚ç‚¹</span><br><span class="line">	node.master:true	#æ˜¯å¦å¯ä½œä¸ºä¸»èŠ‚ç‚¹</span><br><span class="line">	path.data: /data/es_data	#esæ•°æ®å­˜æ”¾çš„ä½ç½®</span><br><span class="line">	network.host:127.17.30.46	#æ¯ä¸ªèŠ‚ç‚¹çš„ipåœ°å€</span><br><span class="line">	http.port: 9200		#èŠ‚ç‚¹çš„ç«¯å£ï¼Œå¿…é¡»ç›¸åŒï¼Œé»˜è®¤9200</span><br><span class="line">	</span><br><span class="line">	bootstrap.memory_lock: true</span><br><span class="line">	bootstrap.system_call_filter: false		#å†…å­˜é”å®šï¼Œé˜²æ­¢swapä½¿esäº§ç”Ÿå†…å­˜äº¤äº’</span><br><span class="line">	discovery.zen.ping.unicast.hosts:[&quot;127.17.30.44&quot;,&quot;127.17.30.45&quot;,,]	#é›†ç¾¤masterèŠ‚ç‚¹çš„ipï¼Œä¸éœ€è¦æ‰€æœ‰èŠ‚ç‚¹çš„ipï¼Œå…¶ä»–èŠ‚ç‚¹åªè¦èƒ½ä¸ä»»æ„ä¸€ä¸ªmasterèŠ‚ç‚¹é€šè®¯ï¼Œå³å¯åŠ å…¥åˆ°è¯¥é›†ç¾¤å½“ä¸­</span><br><span class="line">	discovery.zen.minimum_master_nodes:2	#å½“2ä¸ªæœ‰èµ„æ ¼æˆä¸ºä¸»èŠ‚ç‚¹çš„ä»èŠ‚ç‚¹è®¤ä¸ºä¸»èŠ‚ç‚¹æŒ‚äº†ï¼Œåˆ™è¿›è¡Œé‡æ–°é€‰ä¸»ï¼Œä¸€èˆ¬è®¾ç½®ä¸º(n/2)+1ï¼Œé˜²æ­¢eså‡ºç°è„‘è£‚æƒ…å†µ</span><br><span class="line">	gateway.recover_after_nodes: 3	#èŠ‚ç‚¹æ•°é‡è¾¾åˆ°å¤šå°‘ä¹‹åï¼Œè¿›è¡Œæ•°æ®æ¢å¤å¤„ç†</span><br><span class="line">	http.cors.enabled: true</span><br><span class="line">	http.cors.allow-origin: &quot;*&quot;</span><br><span class="line">	</span><br><span class="line">vi yvm.options</span><br><span class="line">	-Xms16g		#é»˜è®¤ä¸º2gï¼Œå¯æ ¹æ®æœåŠ¡å™¨å†…å­˜ï¼Œè‡ªè¡Œä¿®æ”¹</span><br><span class="line">	</span><br><span class="line"><span class="meta">#</span><span class="bash">é€šè¿‡ä¸€ä¸‹å‘½ä»¤æŸ¥çœ‹å†…å­˜</span></span><br><span class="line">cat /proc/cpuinfo | grep &#x27;cpu cores&#x27; | wc -l	#æŸ¥çœ‹cpuæ ¸æ•°</span><br><span class="line">cat /proc/meminfo | grep MemTotal	#åªæŸ¥çœ‹å†…å­˜</span><br><span class="line">free -h		#æŸ¥çœ‹å†…å­˜çš„ä½¿ç”¨</span><br><span class="line">df -h		#æŸ¥çœ‹ç¡¬ç›˜å­˜å‚¨</span><br></pre></td></tr></table></figure>
<h5 id="æ³¨æ„ï¼š-3"><a href="#æ³¨æ„ï¼š-3" class="headerlink" title="æ³¨æ„ï¼š"></a>æ³¨æ„ï¼š</h5><p>â€‹    è¯¥æ“ä½œå¿…é¡»åœ¨æ¯å°æœåŠ¡å™¨ä¸Šéƒ½è¦éƒ¨ç½²ï¼Œå¹¶ä¸èƒ½åœ¨rootç”¨æˆ·ä¸‹æ“ä½œï¼Œè¦åœ¨userä¸‹æ“ä½œï¼Œå¦‚æœæ²¡æœ‰usrç”¨æˆ·ï¼Œåˆ™åˆ›å»º</p>
<h5 id="å¦‚æœæ²¡æœ‰æ“ä½œæƒé™ï¼Œåˆ™æ‰§è¡Œï¼š"><a href="#å¦‚æœæ²¡æœ‰æ“ä½œæƒé™ï¼Œåˆ™æ‰§è¡Œï¼š" class="headerlink" title="å¦‚æœæ²¡æœ‰æ“ä½œæƒé™ï¼Œåˆ™æ‰§è¡Œï¼š"></a>å¦‚æœæ²¡æœ‰æ“ä½œæƒé™ï¼Œåˆ™æ‰§è¡Œï¼š</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> rootä¸‹ï¼Œå°†æ–‡ä»¶æƒé™è®¾ç½®ä¸ºduserç”¨æˆ·å¯æ“ä½œ</span></span><br><span class="line">chown duser *</span><br><span class="line">chgrp duser *</span><br></pre></td></tr></table></figure>


<h4 id="å½“ä¸ä½¿ç”¨esè¿œç¨‹è¯å…¸æ—¶ï¼š"><a href="#å½“ä¸ä½¿ç”¨esè¿œç¨‹è¯å…¸æ—¶ï¼š" class="headerlink" title="å½“ä¸ä½¿ç”¨esè¿œç¨‹è¯å…¸æ—¶ï¼š"></a>å½“ä¸ä½¿ç”¨esè¿œç¨‹è¯å…¸æ—¶ï¼š</h4><p>ä¿®æ”¹elasticsearch-5.3.0/plugins/ik/config/IKAnalyzer.cfg.xml </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">properties</span> <span class="meta-keyword">SYSTEM</span> <span class="meta-string">&quot;http://java.sun.com/dtd/properties.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">comment</span>&gt;</span>IK Analyzer æ‰©å±•é…ç½®<span class="tag">&lt;/<span class="name">comment</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--ç”¨æˆ·å¯ä»¥åœ¨è¿™é‡Œé…ç½®è‡ªå·±çš„æ‰©å±•å­—å…¸ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;ext_dict&quot;</span>&gt;</span>custom/mydict.dic;custom/single_word_low_freq.dic<span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">                 <span class="comment">&lt;!--ç”¨æˆ·å¯ä»¥åœ¨è¿™é‡Œé…ç½®è‡ªå·±çš„æ‰©å±•åœæ­¢è¯å­—å…¸--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;ext_stopwords&quot;</span>&gt;</span>custom/ext_stopword.dic<span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--ç”¨æˆ·å¯ä»¥åœ¨è¿™é‡Œé…ç½®è¿œç¨‹æ‰©å±•å­—å…¸ --&gt;</span></span><br><span class="line">       <span class="comment">&lt;!-- &lt;entry key=&quot;remote_ext_dict&quot;&gt;http://10.172.80.229:9301/mydict.dic&lt;/entry&gt; --&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--ç”¨æˆ·å¯ä»¥åœ¨è¿™é‡Œé…ç½®è¿œç¨‹æ‰©å±•åœæ­¢è¯å­—å…¸--&gt;</span></span><br><span class="line"></span><br><span class="line">       <span class="comment">&lt;!-- &lt;entry key=&quot;remote_ext_stopwords&quot;&gt;http://10.172.80.229:9301/stopword.dic&lt;/entry&gt; --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h5 id="è¯´æ˜ï¼š"><a href="#è¯´æ˜ï¼š" class="headerlink" title="è¯´æ˜ï¼š"></a>è¯´æ˜ï¼š</h5><p>â€‹    æ³¨é‡Šåä¸¤é¡¹å³å¯</p>
<h5 id="æ·»åŠ è‡ªå®šä¹‰åŒä¹‰è¯"><a href="#æ·»åŠ è‡ªå®šä¹‰åŒä¹‰è¯" class="headerlink" title="æ·»åŠ è‡ªå®šä¹‰åŒä¹‰è¯"></a>æ·»åŠ è‡ªå®šä¹‰åŒä¹‰è¯</h5><p>æ›¿æ¢config/synonyms.txtæ–‡ä»¶</p>
<p>synonyms.txtæ–‡ä»¶å†…æ ¼å¼ï¼Œæ‰€æœ‰åŒä¹‰è¯ä¸ºä¸€è¡Œï¼Œä¸”ç”¨ â€œ, â€ éš”å¼€</p>
<h3 id="äºŒã€ä¿®æ”¹é›†ç¾¤é…ç½®"><a href="#äºŒã€ä¿®æ”¹é›†ç¾¤é…ç½®" class="headerlink" title="äºŒã€ä¿®æ”¹é›†ç¾¤é…ç½®"></a>äºŒã€ä¿®æ”¹é›†ç¾¤é…ç½®</h3><p>rootç”¨æˆ·ä¸‹</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/security/limits.conf</span><br><span class="line"><span class="meta">	#</span><span class="bash">æ·»åŠ ä¸€ä¸‹è¯­å¥</span></span><br><span class="line">	*      soft    nofile    65536</span><br><span class="line">	*      hard    nofile    65536</span><br><span class="line">	*      soft	   nproc     65536</span><br><span class="line">	*	   hard	   nproc	 65536</span><br><span class="line">	duser  soft    memlock   unlimited </span><br><span class="line">    duser  hard    memlock   unlimited </span><br><span class="line"></span><br><span class="line">vi /etc/sysctl.conf</span><br><span class="line"><span class="meta">	#</span><span class="bash">ä¿®æ”¹ä»¥ä¸‹è¯­å¥</span></span><br><span class="line">	vm.max_map_count=655360</span><br><span class="line">	</span><br><span class="line">sysctl -p</span><br></pre></td></tr></table></figure>


<h3 id="ä¸‰ã€å¯åŠ¨é›†ç¾¤"><a href="#ä¸‰ã€å¯åŠ¨é›†ç¾¤" class="headerlink" title="ä¸‰ã€å¯åŠ¨é›†ç¾¤"></a>ä¸‰ã€å¯åŠ¨é›†ç¾¤</h3><p>userç”¨æˆ·ä¸‹</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd elasticsearch_bak/bin</span><br><span class="line">./elasticsearch  -d	#åå°å¯åŠ¨é›†ç¾¤</span><br><span class="line">curl 172.17.30.45:9200/_cat/nodes	#æŸ¥çœ‹æ‰€æœ‰èŠ‚ç‚¹ï¼Œ*ä¸ºä¸»èŠ‚ç‚¹</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¯åŠ¨ä¸äº†æ—¶å€™ï¼ŒæŸ¥çœ‹es-log</span></span><br></pre></td></tr></table></figure>


<h3 id="å››ã€æœç´¢éƒ¨ç½²"><a href="#å››ã€æœç´¢éƒ¨ç½²" class="headerlink" title="å››ã€æœç´¢éƒ¨ç½²"></a>å››ã€æœç´¢éƒ¨ç½²</h3><p>userç”¨æˆ·ä¸‹çš„æ“ä½œ</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">vi index_search_mapping.sh</span><br><span class="line"><span class="meta">	#</span><span class="bash">ä¿®æ”¹çš„ipå’Œç«¯å£ä¸é›†ç¾¤ä¸€æ ·</span></span><br><span class="line">	curl -XPUT &quot;http://10.25.114.90:9200/index&quot; </span><br><span class="line">	&#123;</span><br><span class="line">        settings&quot;: &#123;</span><br><span class="line">        &quot;number_of_shards&quot;: 6,	#ä¸»åˆ†ç‰‡æ•°é‡ï¼Œä¸€èˆ¬ä¸º æœåŠ¡å™¨æ€»æ ¸æ•°</span><br><span class="line">        &quot;number_of_replicas&quot;: 2,	#å‰¯æœ¬åˆ†ç‰‡çš„æ•°é‡ï¼Œé˜²æ­¢æ•°æ®ä¸¢å¤±</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h5 id="æ³¨æ„ï¼š-4"><a href="#æ³¨æ„ï¼š-4" class="headerlink" title="æ³¨æ„ï¼š"></a>æ³¨æ„ï¼š</h5><p>â€‹    åˆ†è¯å™¨anslyzerå¯ä»¥æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œä¿®æ”¹ã€åˆ é™¤å’Œæ·»åŠ </p>
<h4 id="æ·»åŠ åˆ é™¤å­—æ®µ"><a href="#æ·»åŠ åˆ é™¤å­—æ®µ" class="headerlink" title="æ·»åŠ åˆ é™¤å­—æ®µ"></a>æ·»åŠ åˆ é™¤å­—æ®µ</h4><p>â€‹    å½“éœ€è¦æ·»åŠ å­—æ®µæ—¶ï¼Œåªè¦åœ¨ä»¥ä¸‹ä½ç½®æ·»åŠ å³å¯</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&quot;mappings&quot;: &#123;</span><br><span class="line">    &quot;index&quot;: &#123;</span><br><span class="line">      &quot;properties&quot;: &#123;</span><br><span class="line">	  &quot;id&quot;: &#123;</span><br><span class="line">          &quot;type&quot;: &quot;keyword&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">       &quot;&quot;: &#123;		#éœ€è¦æ·»åŠ çš„å­—æ®µå</span><br><span class="line">           &quot;type&quot;:&quot;&quot;	#æ·»åŠ çš„å­—æ®µçš„çº¦æŸæ¡ä»¶</span><br><span class="line">       &#125;</span><br><span class="line">       &#125;</span><br><span class="line">      &#125;</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure>
<h5 id="æ³¨æ„ï¼š-5"><a href="#æ³¨æ„ï¼š-5" class="headerlink" title="æ³¨æ„ï¼š"></a>æ³¨æ„ï¼š</h5><p>â€‹    ä¿®æ”¹æŸä¸ªæ–‡ä»¶çš„å­—æ®µä¹‹å‰ï¼Œéœ€è¦å…ˆåˆ é™¤è¯¥æ–‡ä»¶çš„core</p>
<p>â€‹    é‡æ–°å¯åŠ¨æœç´¢æ—¶ï¼Œä¹Ÿéœ€è¦è¿›è¡Œä»¥ä¸‹æ­¥éª¤</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -XDELETE &quot;http://172.19.30.45:9200/index&quot;</span><br><span class="line"><span class="meta">#</span><span class="bash">ä¿®æ”¹å®Œä¹‹åï¼Œé‡æ–°è¿è¡Œè¯¥æ–‡ä»¶</span></span><br><span class="line">sh index_search_mapping.sh</span><br></pre></td></tr></table></figure>


<h3 id="äº”ã€æŸ¥è¯¢å¯åŠ¨ç»“æœ"><a href="#äº”ã€æŸ¥è¯¢å¯åŠ¨ç»“æœ" class="headerlink" title="äº”ã€æŸ¥è¯¢å¯åŠ¨ç»“æœ"></a>äº”ã€æŸ¥è¯¢å¯åŠ¨ç»“æœ</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl http://ip:9200/index?pretty		#æŸ¥è¯¢å­—æ®µ</span><br><span class="line">curl http://ip:9200/_cat/nodes		#æŸ¥è¯¢èŠ‚ç‚¹</span><br><span class="line">curl http://ip:9200/_cat/health	#æŸ¥è¯¢åŠ ç¾¤å¥åº·ï¼Œgreen</span><br><span class="line">curl http://ip:9200/_cat/shards	#æŸ¥è¯¢é›†ç¾¤åˆ†ç‰‡çŠ¶æ€</span><br></pre></td></tr></table></figure>


<h3 id="å…­ã€æ•°æ®é‡æŸ¥è¯¢"><a href="#å…­ã€æ•°æ®é‡æŸ¥è¯¢" class="headerlink" title="å…­ã€æ•°æ®é‡æŸ¥è¯¢"></a>å…­ã€æ•°æ®é‡æŸ¥è¯¢</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">curl http://ip:9200/one_index/_stats	#æŸ¥è¯¢æŸä¸€ä¸ªindexä¸‹çš„æ•°æ®é‡</span><br><span class="line">curl http://ip:9200/one_index,two_index/_stats	#æŸ¥è¯¢å¤šä¸ªindexçš„æ•°æ®é‡ï¼Œä½¿ç”¨,éš”å¼€</span><br><span class="line">curl http://ip:9200/_all/_stats		#æŸ¥è¯¢æ‰€æœ‰indexä¸‹çš„æ•°æ®é‡</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> è¿”å›searchã€fetchã€getã€indexã€bulkã€segmentã€counts</span></span><br><span class="line"></span><br><span class="line">curl http://ip:9200/_cat/count/index	#åªæŸ¥è¯¢æŸä¸ªindexä¸‹çš„æ–‡æ¡£æ•°ï¼Œå¦‚æœä¸åŠ indexï¼Œåˆ™æŸ¥è¯¢æ‰€æœ‰çš„indexçš„æ–‡æ¡£æ€»æ•°</span><br></pre></td></tr></table></figure>


<h3 id="ä¸ƒã€search-guardä¸ºesé›†ç¾¤é…ç½®auth"><a href="#ä¸ƒã€search-guardä¸ºesé›†ç¾¤é…ç½®auth" class="headerlink" title="ä¸ƒã€search-guardä¸ºesé›†ç¾¤é…ç½®auth"></a>ä¸ƒã€search-guardä¸ºesé›†ç¾¤é…ç½®auth</h3><h4 id="1ã€å®‰è£…search-guardæ’ä»¶å’Œsslæ’ä»¶"><a href="#1ã€å®‰è£…search-guardæ’ä»¶å’Œsslæ’ä»¶" class="headerlink" title="1ã€å®‰è£…search-guardæ’ä»¶å’Œsslæ’ä»¶"></a>1ã€å®‰è£…search-guardæ’ä»¶å’Œsslæ’ä»¶</h4><h5 id="æŸ¥è¯¢esçš„ç‰ˆæœ¬"><a href="#æŸ¥è¯¢esçš„ç‰ˆæœ¬" class="headerlink" title="æŸ¥è¯¢esçš„ç‰ˆæœ¬"></a>æŸ¥è¯¢esçš„ç‰ˆæœ¬</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl ip:9200</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> ç»“æœä¸­çš„numberæ•°æ®å³ä»£è¡¨ç‰ˆæœ¬å·</span></span><br></pre></td></tr></table></figure>
<h5 id="å®‰è£…search-guard"><a href="#å®‰è£…search-guard" class="headerlink" title="å®‰è£…search-guard"></a>å®‰è£…search-guard</h5><p><a target="_blank" rel="noopener" href="https://repo1.maven.org/maven2/com/floragunn/search-guard-5">https://repo1.maven.org/maven2/com/floragunn/search-guard-5</a></p>
<p>æ‰¾åˆ°å¯¹åº”çš„ç‰ˆæœ¬ï¼Œä¸‹è½½å³å¯</p>
<p>æˆ–è€…ä½¿ç”¨å‘½ä»¤è¡Œä¸‹è½½ï¼Œesç›®å½•ä¸‹</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bin/elasticsearch-plugin install -b com.floragunn:search-guard-5:5.3.0-12</span><br></pre></td></tr></table></figure>
<h5 id="å®‰è£…search-guard-ssl"><a href="#å®‰è£…search-guard-ssl" class="headerlink" title="å®‰è£…search-guard-ssl"></a>å®‰è£…search-guard-ssl</h5><p><a target="_blank" rel="noopener" href="https://repo1.maven.org/maven2/com/floragunn/search-guard-ssl">https://repo1.maven.org/maven2/com/floragunn/search-guard-ssl</a></p>
<p>å‘½ä»¤è¡Œ</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bin/elasticsearch-plugin install -b com.floragunn:search-guard-ssl:5.3.0-22</span><br></pre></td></tr></table></figure>
<h5 id="æ³¨æ„ï¼š-6"><a href="#æ³¨æ„ï¼š-6" class="headerlink" title="æ³¨æ„ï¼š"></a>æ³¨æ„ï¼š</h5><p>å½“esç‰ˆæœ¬è¾ƒé«˜æ—¶ï¼Œå¯èƒ½å¹¶ä¸éœ€è¦è¿™ä¸¤ä¸ªéƒ½å­˜åœ¨ï¼Œå–search-guardå³å¯</p>
<h4 id="2ã€ç”Ÿæˆesè¯ä¹¦æ–‡ä»¶"><a href="#2ã€ç”Ÿæˆesè¯ä¹¦æ–‡ä»¶" class="headerlink" title="2ã€ç”Ÿæˆesè¯ä¹¦æ–‡ä»¶"></a>2ã€ç”Ÿæˆesè¯ä¹¦æ–‡ä»¶</h4><h5 id="ä¸‹è½½search-guardæºç å·¥å…·ï¼Œç”Ÿæˆè¯ä¹¦çš„å·¥å…·"><a href="#ä¸‹è½½search-guardæºç å·¥å…·ï¼Œç”Ÿæˆè¯ä¹¦çš„å·¥å…·" class="headerlink" title="ä¸‹è½½search-guardæºç å·¥å…·ï¼Œç”Ÿæˆè¯ä¹¦çš„å·¥å…·"></a>ä¸‹è½½search-guardæºç å·¥å…·ï¼Œç”Ÿæˆè¯ä¹¦çš„å·¥å…·</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/floragunncom/search-guard-ssl.git</span><br></pre></td></tr></table></figure>
<h5 id="ä¿®æ”¹caé…ç½®"><a href="#ä¿®æ”¹caé…ç½®" class="headerlink" title="ä¿®æ”¹caé…ç½®"></a>ä¿®æ”¹caé…ç½®</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">cd search-guard-ssl/example-pki-scripts/etc/</span><br><span class="line"></span><br><span class="line">vi root-ca.conf		# æ ¹è¯ä¹¦é…ç½®</span><br><span class="line">	0.domainComponent       = &quot;www.test.comâ€    # åŸŸå</span><br><span class="line">	1.domainComponent       = &quot;www.test.com&quot;    # åŸŸå</span><br><span class="line">	organizationName        = &quot;Test&quot;            # ç»„ç»‡åç§°</span><br><span class="line">	organizationalUnitName  = &quot;Test Root CA&quot;    # ç»„ç»‡å•ä½åç§°</span><br><span class="line">	commonName              = &quot;Test Root CA&quot;    # é€šç”¨åç§°</span><br><span class="line">	</span><br><span class="line">vi signing-ca.conf	# ç­¾åè¯ä¹¦é…ç½®</span><br><span class="line">	0.domainComponent       = &quot;www.test.comâ€    # åŸŸå</span><br><span class="line">	1.domainComponent       = &quot;www.test.com&quot;    # åŸŸå</span><br><span class="line">	organizationName        = &quot;Test&quot;            # ç»„ç»‡åç§°</span><br><span class="line">	organizationalUnitName  = &quot;Test Signing CA&quot; # ç»„ç»‡å•ä½åç§°</span><br><span class="line">	commonName              = &quot;Test Signing CA&quot; # é€šç”¨åç§°</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼š</p>
<p>â€‹    ä»¥ä¸Šä¿¡æ¯å¡«å†™ï¼Œå¿…é¡»ä¿è¯å’Œç”Ÿæˆè¯ä¹¦æ—¶ä¿¡æ¯ä¸€è‡´</p>
<h5 id="ä¿®æ”¹shæ–‡ä»¶"><a href="#ä¿®æ”¹shæ–‡ä»¶" class="headerlink" title="ä¿®æ”¹shæ–‡ä»¶"></a>ä¿®æ”¹shæ–‡ä»¶</h5><p>è¿”å›example-pki-scriptsç›®å½•ä¸‹ï¼Œä¿®æ”¹example.shæ–‡ä»¶ï¼š</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> -e</span><br><span class="line"></span><br><span class="line">./clean.sh</span><br><span class="line"></span><br><span class="line">./gen_root_ca.sh 12345678 12345678</span><br><span class="line"></span><br><span class="line">./gen_node_cert.sh 0 12345678 12345678&amp;&amp; ./gen_node_cert.sh 1 12345678 12345678 &amp;&amp;  ./gen_node_cert.sh 2 12345678 12345678</span><br><span class="line"></span><br><span class="line">./gen_client_node_cert.sh <span class="built_in">test</span> 12345678 12345678</span><br><span class="line"></span><br><span class="line">./gen_client_node_cert.sh <span class="built_in">test</span> 12345678 12345678</span><br></pre></td></tr></table></figure>
<p>å‚æ•°è¯´æ˜ï¼š</p>
<p>./gen_root_ca.sh 12345678 12345678</p>
<p>ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºCA_PASSï¼Œå³CAå¯†ç ï¼ˆæ ¹è¯ä¹¦å¯†ç ï¼‰</p>
<p>ç¬¬äºŒä¸ªå‚æ•°ä¸ºTS_PASSï¼Œå³TSå¯†ç ï¼ˆtruststoreï¼Œä¿¡ä»»è¯ä¹¦å¯†ç ï¼‰</p>
<p>./gen_node_cert.sh 0 12345678 12345678</p>
<p>ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºnodeç¼–å·ï¼Œç”Ÿæˆè¯ä¹¦åçš„æ–‡ä»¶åä¸ºnode-0*</p>
<p>ç¬¬äºŒä¸ªå‚æ•°ä¸ºKS_PASSï¼ˆkeystoreæ–‡ä»¶å¯†ç ï¼‰</p>
<p>ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºCA_PASS</p>
<p>./gen_client_node_cert.sh test 12345678</p>
<p>ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå®¢æˆ·ç«¯èŠ‚ç‚¹åç§°ï¼Œç”Ÿæˆè¯ä¹¦åçš„æ–‡ä»¶åä¸ºtest*</p>
<p>ç¬¬äºŒä¸ªå‚æ•°ä¸ºKS_PASS</p>
<p>ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºCA_PASS</p>
<h5 id="ç”Ÿæˆè¯ä¹¦ï¼Œè¿è¡Œexample-sh"><a href="#ç”Ÿæˆè¯ä¹¦ï¼Œè¿è¡Œexample-sh" class="headerlink" title="ç”Ÿæˆè¯ä¹¦ï¼Œè¿è¡Œexample.sh"></a>ç”Ÿæˆè¯ä¹¦ï¼Œè¿è¡Œexample.sh</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sh example.sh</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> åœ¨å½“å‰ç›®å½•ä¸‹ä¼šç”Ÿæˆè¯ä¹¦æ–‡ä»¶</span></span><br></pre></td></tr></table></figure>


<h4 id="3ã€é…ç½®esï¼Œå¯åŠ¨search-guard"><a href="#3ã€é…ç½®esï¼Œå¯åŠ¨search-guard" class="headerlink" title="3ã€é…ç½®esï¼Œå¯åŠ¨search-guard"></a>3ã€é…ç½®esï¼Œå¯åŠ¨search-guard</h4><h5 id="å°†ç”Ÿæˆçš„å„ä¸ªèŠ‚ç‚¹çš„è¯ä¹¦ï¼Œåˆ†åˆ«copyåˆ°å„ä¸ªèŠ‚ç‚¹ä¸Š"><a href="#å°†ç”Ÿæˆçš„å„ä¸ªèŠ‚ç‚¹çš„è¯ä¹¦ï¼Œåˆ†åˆ«copyåˆ°å„ä¸ªèŠ‚ç‚¹ä¸Š" class="headerlink" title="å°†ç”Ÿæˆçš„å„ä¸ªèŠ‚ç‚¹çš„è¯ä¹¦ï¼Œåˆ†åˆ«copyåˆ°å„ä¸ªèŠ‚ç‚¹ä¸Š"></a>å°†ç”Ÿæˆçš„å„ä¸ªèŠ‚ç‚¹çš„è¯ä¹¦ï¼Œåˆ†åˆ«copyåˆ°å„ä¸ªèŠ‚ç‚¹ä¸Š</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å°†node-0-keystore.jkså’Œtruststore.jkså¤åˆ¶åˆ°esçš„configç›®å½•ä¸‹</span></span><br><span class="line"></span><br><span class="line">cp node-0-keystore.jks ~/elasticsearch/config/</span><br><span class="line">cp truststore.jks ~/elasticsearch/config/</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> å°†test-keystore.jkså’Œtruststore.jkså¤åˆ¶åˆ°esçš„plugins/search-guard-2/sgconfigç›®å½•ä¸‹</span></span><br><span class="line"></span><br><span class="line">cp test-keystore.jks ~/elasticsearch/plugins/search-guard-2/sgconfig/</span><br><span class="line">cp truststore.jks ~/elasticsearch/plugins/search-guard-2/sgconfig/</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼š</p>
<p>â€‹    ä¿æŒè¯ä¹¦çš„ä¸€è‡´æ€§ï¼Œå› æ­¤åªéœ€è¦åœ¨ä¸€å°æœºå™¨ä¸Šç”ŸæˆCAè¯ä¹¦å³å¯</p>
<h5 id="ä¿®æ”¹esçš„é…ç½®æ–‡ä»¶config-elaticsearch-yml"><a href="#ä¿®æ”¹esçš„é…ç½®æ–‡ä»¶config-elaticsearch-yml" class="headerlink" title="ä¿®æ”¹esçš„é…ç½®æ–‡ä»¶config/elaticsearch.yml"></a>ä¿®æ”¹esçš„é…ç½®æ–‡ä»¶config/elaticsearch.yml</h5><p>åœ¨ä¹‹å‰ä¿®æ”¹çš„åŸºç¡€ä¸Šï¼Œå¢åŠ å¦‚ä¸‹é…ç½®</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é…ç½®ssl</span></span><br><span class="line"><span class="attr">searchguard.ssl.transport.enabled:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">searchguard.ssl.transport.keystore_filepath:</span> <span class="string">node-0-keystore.jks</span></span><br><span class="line"><span class="attr">searchguard.ssl.transport.keystore_password:</span> <span class="number">12345678</span></span><br><span class="line"><span class="attr">searchguard.ssl.transport.truststore_filepath:</span> <span class="string">truststore.jks</span></span><br><span class="line"><span class="attr">searchguard.ssl.transport.truststore_password:</span> <span class="number">12345678</span></span><br><span class="line"><span class="attr">searchguard.ssl.transport.enforce_hostname_verification:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">searchguard.ssl.transport.resolve_hostname:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½®https</span></span><br><span class="line"><span class="comment"># httpé…ç½®ï¼Œè¿™é‡Œæˆ‘åªæ˜¯ä¸ºäº†æµ‹è¯•æ–¹ä¾¿ï¼Œé…ç½®å®Œï¼Œåº”è¯¥è®¾ç½®ä¸ºtrue</span></span><br><span class="line"><span class="attr">searchguard.ssl.http.enabled:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">searchguard.ssl.http.keystore_filepath:</span> <span class="string">node-0-keystore.jks</span></span><br><span class="line"><span class="attr">searchguard.ssl.http.keystore_password:</span> <span class="number">12345678</span></span><br><span class="line"><span class="attr">searchguard.ssl.http.truststore_filepath:</span> <span class="string">truststore.jks</span></span><br><span class="line"><span class="attr">searchguard.ssl.http.truststore_password:</span> <span class="number">12345678</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># CNä¸ºç”ŸæˆCAè¯ä¹¦æ—¶å¡«å†™çš„ä¿¡æ¯ï¼Œå³./gen_client_node_cert.sh test 12345678 å‘½ä»¤çš„ç¬¬ä¸€ä¸ªå‚æ•°</span></span><br><span class="line"><span class="attr">searchguard.authcz.admin_dn:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">CN=test,</span> <span class="string">OU=client,</span> <span class="string">O=client,</span> <span class="string">L=Test,</span> <span class="string">C=DE</span></span><br></pre></td></tr></table></figure>
<h5 id="å¯åŠ¨es"><a href="#å¯åŠ¨es" class="headerlink" title="å¯åŠ¨es"></a>å¯åŠ¨es</h5><h4 id="4ã€å°†search-guardçš„é…ç½®å†™å…¥esä¸­"><a href="#4ã€å°†search-guardçš„é…ç½®å†™å…¥esä¸­" class="headerlink" title="4ã€å°†search-guardçš„é…ç½®å†™å…¥esä¸­"></a>4ã€å°†search-guardçš„é…ç½®å†™å…¥esä¸­</h4><p>æ·»åŠ æƒé™</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod -R 777 plugins/search-guard-5/tools/sgadmin.sh</span><br></pre></td></tr></table></figure>
<p>é…ç½®æ ¼å¼</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./plugins/search-guard-5/tools/sgadmin.sh -cn clustername -h hostname -cd plugins/search-guard-5/sgconfig -ks plugins/search-guard-5/sgconfig/admin-keystore.jks -kspass password -ts plugins/search-guard-5/sgconfig/truststore.jks -tspass password -nhnv</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼š</p>
<p>â€‹    clusternameä¸ºé›†ç¾¤çš„åç§°</p>
<p>â€‹    hostnameä¸ºelasticsearch.yml æ–‡ä»¶ä¸­ network.host çš„å€¼</p>
<p>â€‹    passwordç”Ÿæˆè¯ä¹¦è®¾ç½®çš„å¯†ç </p>
<h5 id="ä»¥ä¸Šé…ç½®ç”Ÿæˆçš„å‘½ä»¤ä¸º"><a href="#ä»¥ä¸Šé…ç½®ç”Ÿæˆçš„å‘½ä»¤ä¸º" class="headerlink" title="ä»¥ä¸Šé…ç½®ç”Ÿæˆçš„å‘½ä»¤ä¸º"></a>ä»¥ä¸Šé…ç½®ç”Ÿæˆçš„å‘½ä»¤ä¸º</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./plugins/search-guard-5/tools/sgadmin.sh -cn es-nlp -h 192.168.124.18 -cd plugins/search-guard-5/sgconfig -ks plugins/search-guard-5/sgconfig/test-keystore.jks -kspass 12345678 -ts plugins/search-guard-5/sgconfig/truststore.jks -tspass 12345678 -nhnv</span><br></pre></td></tr></table></figure>
<h4 id="5ã€æ·»åŠ esç”¨æˆ·åŠå¯†ç "><a href="#5ã€æ·»åŠ esç”¨æˆ·åŠå¯†ç " class="headerlink" title="5ã€æ·»åŠ esç”¨æˆ·åŠå¯†ç "></a>5ã€æ·»åŠ esç”¨æˆ·åŠå¯†ç </h4><h5 id="ç”Ÿæˆmd5åŠ å¯†å¯†ç "><a href="#ç”Ÿæˆmd5åŠ å¯†å¯†ç " class="headerlink" title="ç”Ÿæˆmd5åŠ å¯†å¯†ç "></a>ç”Ÿæˆmd5åŠ å¯†å¯†ç </h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">chmod -R 777 plugins/search-guard-2/tools/hash.sh</span><br><span class="line"></span><br><span class="line">cd plugins/search-guard-2/tools/</span><br><span class="line"></span><br><span class="line">plugins/search-guard-2/tools/hash.sh -p 123456</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¿å­˜ç”Ÿæˆçš„<span class="built_in">hash</span>å¯†ç </span></span><br></pre></td></tr></table></figure>
<h5 id="æ·»åŠ ç”¨æˆ·åŠå¯†ç "><a href="#æ·»åŠ ç”¨æˆ·åŠå¯†ç " class="headerlink" title="æ·»åŠ ç”¨æˆ·åŠå¯†ç "></a>æ·»åŠ ç”¨æˆ·åŠå¯†ç </h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">vim plugins/search-guard-5/sgconfig/sg_internal_users.yml</span><br><span class="line"></span><br><span class="line">sunww:</span><br><span class="line">  hash: åŠ å¯†åçš„å­—ç¬¦ä¸²</span><br><span class="line"><span class="meta">  #</span><span class="bash"> password: 123456</span></span><br><span class="line">  </span><br><span class="line"><span class="meta">#</span><span class="bash"> æœ€åä¸€è¡Œæ—¶passwordæç¤ºï¼Œé˜²æ­¢å¿˜è®°</span></span><br></pre></td></tr></table></figure>
<h5 id="æ·»åŠ ç”¨æˆ·çš„æƒé™"><a href="#æ·»åŠ ç”¨æˆ·çš„æƒé™" class="headerlink" title="æ·»åŠ ç”¨æˆ·çš„æƒé™"></a>æ·»åŠ ç”¨æˆ·çš„æƒé™</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">vim plugins/search-guard-5/sgconfig/sg_roles_mapping.yml</span><br><span class="line"></span><br><span class="line">ag_all_access:</span><br><span class="line">  users:</span><br><span class="line">    - admin</span><br><span class="line">    - sunww</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ·»åŠ æ‰€æœ‰æƒé™ç»™sunwwç”¨æˆ·</span></span><br></pre></td></tr></table></figure>
<h5 id="é‡æ–°å°†é…ç½®å†™å…¥esä¸­ç”Ÿæ•ˆ"><a href="#é‡æ–°å°†é…ç½®å†™å…¥esä¸­ç”Ÿæ•ˆ" class="headerlink" title="é‡æ–°å°†é…ç½®å†™å…¥esä¸­ç”Ÿæ•ˆ"></a>é‡æ–°å°†é…ç½®å†™å…¥esä¸­ç”Ÿæ•ˆ</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./plugins/search-guard-5/tools/sgadmin.sh -cn es-nlp -h 192.168.124.18 -cd plugins/search-guard-5/sgconfig -ks plugins/search-guard-5/sgconfig/test-keystore.jks -kspass 12345678 -ts plugins/search-guard-5/sgconfig/truststore.jks -tspass 12345678 -nhnv</span><br></pre></td></tr></table></figure>
<h4 id="6ã€æµ‹è¯•"><a href="#6ã€æµ‹è¯•" class="headerlink" title="6ã€æµ‹è¯•"></a>6ã€æµ‹è¯•</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">curl http://sunww:123456@127.0.0.1:9200</span><br><span class="line"></span><br><span class="line">curl -u sunww:123456 http://127.0.0.1:9200</span><br><span class="line"></span><br><span class="line">curl --user sunww:123456 http://127.0.0.1:9200</span><br></pre></td></tr></table></figure>


<h3 id="å…«ã€x-packä¸ºesé›†ç¾¤é…ç½®auth"><a href="#å…«ã€x-packä¸ºesé›†ç¾¤é…ç½®auth" class="headerlink" title="å…«ã€x-packä¸ºesé›†ç¾¤é…ç½®auth"></a>å…«ã€x-packä¸ºesé›†ç¾¤é…ç½®auth</h3><h5 id="1ã€è¦æ±‚"><a href="#1ã€è¦æ±‚" class="headerlink" title="1ã€è¦æ±‚"></a>1ã€è¦æ±‚</h5><p>esçš„ç‰ˆæœ¬å¿…é¡»ä¸º6.XåŠä»¥ä¸Šï¼Œ5.Xçš„esé…ç½®x-packåªèƒ½é€šè¿‡apiä¿®æ”¹å¯†ç </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-6.2.3.tar.gz</span><br></pre></td></tr></table></figure>
<h5 id="2ã€å®‰è£…x-pack"><a href="#2ã€å®‰è£…x-pack" class="headerlink" title="2ã€å®‰è£…x-pack"></a>2ã€å®‰è£…x-pack</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bin/elasticsearch-plugin install x-pack</span><br></pre></td></tr></table></figure>
<h5 id="3ã€å¯¹elasticsearchã€logstashã€kibanaåˆ†åˆ«è®¾ç½®ç™»å½•å¯†ç ï¼ˆé»˜è®¤esç”¨æˆ·åä¸ºelasticï¼Œlogstashç”¨æˆ·åä¸ºlogstash-systemï¼Œkibanaç”¨æˆ·åä¸ºkibanaï¼‰"><a href="#3ã€å¯¹elasticsearchã€logstashã€kibanaåˆ†åˆ«è®¾ç½®ç™»å½•å¯†ç ï¼ˆé»˜è®¤esç”¨æˆ·åä¸ºelasticï¼Œlogstashç”¨æˆ·åä¸ºlogstash-systemï¼Œkibanaç”¨æˆ·åä¸ºkibanaï¼‰" class="headerlink" title="3ã€å¯¹elasticsearchã€logstashã€kibanaåˆ†åˆ«è®¾ç½®ç™»å½•å¯†ç ï¼ˆé»˜è®¤esç”¨æˆ·åä¸ºelasticï¼Œlogstashç”¨æˆ·åä¸ºlogstash_systemï¼Œkibanaç”¨æˆ·åä¸ºkibanaï¼‰"></a>3ã€å¯¹elasticsearchã€logstashã€kibanaåˆ†åˆ«è®¾ç½®ç™»å½•å¯†ç ï¼ˆé»˜è®¤esç”¨æˆ·åä¸ºelasticï¼Œlogstashç”¨æˆ·åä¸ºlogstash_systemï¼Œkibanaç”¨æˆ·åä¸ºkibanaï¼‰</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bin/x-pack/setup-passwords interactive</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼š</p>
<p>â€‹    æ­¤æ—¶çš„eså¿…é¡»æ—¶å¯åŠ¨çŠ¶æ€</p>
<h5 id="4ã€é…ç½®-config-elasticsearch-yml"><a href="#4ã€é…ç½®-config-elasticsearch-yml" class="headerlink" title="4ã€é…ç½®./config/elasticsearch.yml"></a>4ã€é…ç½®./config/elasticsearch.yml</h5><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># es6.Xé…ç½®ï¼š</span></span><br><span class="line"><span class="attr">http.cors.enabled:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">http.cors.allow-origin:</span> <span class="string">&#x27;*&#x27;</span></span><br><span class="line"><span class="attr">http.cors.allow-headers:</span> <span class="string">Authorization,X-Requested-With,Content-Length,Content-Type</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># es5.Xé…ç½®</span></span><br><span class="line"><span class="string">xpack.graph.enabled</span>			<span class="comment">#è®¾ç½®ä¸ºfalseä»¥ç¦ç”¨X-Packå›¾å½¢åŠŸèƒ½ã€‚</span></span><br><span class="line"><span class="string">xpack.ml.enabled</span>			<span class="comment">#è®¾ç½®ä¸ºfalseä»¥ç¦ç”¨X-Packæœºå™¨å­¦ä¹ åŠŸèƒ½ã€‚</span></span><br><span class="line"><span class="string">xpack.monitoring.enabled</span>	<span class="comment">#è®¾ç½®ä¸ºfalseä»¥ç¦ç”¨X-Packç›‘è§†åŠŸèƒ½ã€‚</span></span><br><span class="line"><span class="string">xpack.reporting.enabled</span>Â  Â  Â <span class="comment">#è®¾ç½®ä¸ºfalseä»¥ç¦ç”¨X-PackæŠ¥å‘ŠåŠŸèƒ½ã€‚</span></span><br><span class="line"><span class="string">xpack.security.enabled</span>Â  Â  Â  <span class="comment">#è®¾ç½®ä¸ºfalseä»¥ç¦ç”¨X-Packå®‰å…¨åŠŸèƒ½ã€‚</span></span><br><span class="line"><span class="string">xpack.watcher.enabled</span>Â  Â  Â  Â <span class="comment">#è®¾ç½®ä¸ºfalseä»¥ç¦ç”¨Watcherã€‚</span></span><br></pre></td></tr></table></figure>
<h5 id="5ã€æµ‹è¯•è®¿é—®"><a href="#5ã€æµ‹è¯•è®¿é—®" class="headerlink" title="5ã€æµ‹è¯•è®¿é—®"></a>5ã€æµ‹è¯•è®¿é—®</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -u elastic:password ip:port</span><br></pre></td></tr></table></figure>
<h5 id="6ã€x-packé»˜è®¤è´¦å·å¯†ç "><a href="#6ã€x-packé»˜è®¤è´¦å·å¯†ç " class="headerlink" title="6ã€x-packé»˜è®¤è´¦å·å¯†ç "></a>6ã€x-packé»˜è®¤è´¦å·å¯†ç </h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è´¦å·ï¼šelastic</span><br><span class="line">å¯†ç ï¼šchangeme</span><br></pre></td></tr></table></figure>
<h5 id="æ³¨æ„ï¼š-7"><a href="#æ³¨æ„ï¼š-7" class="headerlink" title="æ³¨æ„ï¼š"></a>æ³¨æ„ï¼š</h5><p>â€‹    x-packåªæœ‰ä¸€ä¸ªæœˆçš„ä½¿ç”¨æ—¶é—´ï¼Œé€‚åˆpocä½¿ç”¨</p>

      
       <hr><span style="font-style: italic;color: gray;"> è½¬è½½è¯·æ³¨æ˜æ¥æºï¼Œæ¬¢è¿å¯¹æ–‡ç« ä¸­çš„å¼•ç”¨æ¥æºè¿›è¡Œè€ƒè¯ï¼Œæ¬¢è¿æŒ‡å‡ºä»»ä½•æœ‰é”™è¯¯æˆ–ä¸å¤Ÿæ¸…æ™°çš„è¡¨è¾¾ã€‚å¯ä»¥åœ¨ä¸‹é¢è¯„è®ºåŒºè¯„è®ºï¼Œä¹Ÿå¯ä»¥é‚®ä»¶è‡³ zoubinbf@163.com </span>
    </div>
</article>


<p>
    <a  class="dashang" onclick="dashangToggle()">ğŸ’°</a>
</p>




    <div id="comments"></div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">

<script type="text/javascript">
    $.getScript('/blog/js/gitalk.js', function () {
        var gitalk = new Gitalk({
            clientID: '8f7834ddf48857ecc43b',
            clientSecret: '8838069823d5a94ca99a6bffb6f8bcaf08593f91',
            repo: 'blog',
            owner: 'bufan-zb',
            admin: ['bufan-zb'],
            id: decodeURI(location.pathname),
            distractionFreeMode: 'true',
            language: 'zh-CN',
            perPage: parseInt('10',10)
        })
        gitalk.render('comments')
    })
</script>




    




    </div>
    <div class="copyright">
        <p class="footer-entry">
    Â©2016-2020 BuFan
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="åˆ‡æ¢å…¨å± å¿«æ·é”® s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close"  onclick="dashangToggle()">Ã—</a>
    <div class="shang_tit">
        <p>Help us with donation</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/blog/img/alipay.jpg" class="alipay" title="æ‰«ç æ”¯æŒ">
            <img src="/blog/img/weixin.jpg" class="weixin" title="æ‰«ç æ”¯æŒ">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">alipay</label></span><span><label><input type="radio" name="pay" value="weixin">weixin</label></span>
    </div>
</div>


</body>
<script src="/blog/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/blog/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*æ¸²æŸ“å¯¹åº”çš„è¡¨æ ¼æ ·å¼*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*æ¸²æŸ“æ‰“èµæ ·å¼*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*é«˜äº®ä»£ç å—è¡Œå·*/
        
        $('pre code').each(function(){
            var lines = $(this).text().trim().split('\n').length, widther='';
            if (lines>99) {
                widther = 'widther'
            }
            var $numbering = $('<ul/>').addClass('pre-numbering ' + widther).attr("unselectable","on");
            $(this).addClass('has-numbering ' + widther)
                    .parent()
                    .append($numbering);
            for(var i=1;i<=lines;i++){
                $numbering.append($('<li/>').text(i));
            }
        });
        

        /*è®¿é—®æ•°é‡*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*ä»£ç é«˜äº®ï¼Œè¡Œå·å¯¹é½*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*æ‰“èµé¡µé¢éšè—ä¸å±•ç¤º*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--åŠ å…¥è¡Œå·çš„é«˜äº®ä»£ç å—æ ·å¼-->

<style>
    pre{
        position: relative;
        margin-bottom: 24px;
        border-radius: 10px;
        border: 1px solid #e2dede;
        background: #FFF;
        overflow: hidden;
    }
    code.has-numbering{
        margin-left: 30px;
    }
    code.has-numbering.widther{
        margin-left: 35px;
    }
    .pre-numbering{
        margin: 0;
        position: absolute;
        top: 0;
        left: 0;
        width: 20px;
        padding: 0.5em 3px 0.7em 5px;
        border-right: 1px solid #C3CCD0;
        text-align: right;
        color: #AAA;
        background-color: #fafafa;
    }
    .pre-numbering.widther {
        width: 35px;
    }
</style>

<!--è‡ªå®šä¹‰æ ·å¼è®¾ç½®-->
<style>
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*åˆ—è¡¨æ ·å¼*/
    

    /* èƒŒæ™¯å›¾æ ·å¼ */
    
    


    /*å¼•ç”¨å—æ ·å¼*/
    

    /*æ–‡ç« åˆ—è¡¨èƒŒæ™¯å›¾*/
    
    .nav-right:before {
        content: ' ';
        display: block;
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        opacity: 0.3;
        background: url("/bloghttps://i.loli.net/2019/07/22/5d3521411f3f169375.png");
        background-repeat: no-repeat;
        background-position: 50% 0;
        -ms-background-size: cover;
        -o-background-size: cover;
        -moz-background-size: cover;
        -webkit-background-size: cover;
        background-size: cover;
    }
    

    
</style>







</html>
